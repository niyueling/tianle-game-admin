(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-236b718b"],{11087:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAABlBMVEX///8AAABVwtN+AAAB2UlEQVRo3u2YsZHrMAxEl+NAoUpQKSqNLI2luASFCjTE3wVx9v0WwEPgwWBetF5xCWKRKubVgaH2OvrZrDzY5jwN8IB19NoGXpy8gYoBbBfANg+wcXp0SJJbY+pgD4Gd6qwHVBtqL0fzAqhgbfTDaWzyAWF7K8ZWVQ2vZ9p+ISBOudrkh3t/n1RnEJjzLMCn6Hs4wDGBmGYBqINsz58yAOzWT8PA6949vpYBlGSXdGqR3WZxmAPULAtQvNc4svvsMLWXJGlZANDrON7UIaJZQHnIersSIBP8zu4KM7uVaUgEREV2e02TyPdZgBLp1BDRfEqSl0ZvnG0hIHRqZYYa1RFwQzGOPICm2rNsCPSg0mm+uw5ZgM8OaYjMCtv7Am1ZgKI/Vq6uk7WOyCyXZB1AB9ohpcRuM7tZBMA2DeDf8fHZLyxumfe0fRrgiRuIDahk+ykOZPuVAN8vVBz7Zomv7RMBoYNnFkATfCTpSAX4fkFAOnRU/NxAUJcBomT7YjavKIBeD3bCaYDvWxAQu1PVF7DNdTINEC97qHGuCyjmOrAWAuJBu/160P7uF+mA/zMrstvyAUWZNW0PqNNhvhAwbT9DzQiYQk1tKuDnlIuxzXXSFGRsswB/5fUPAoc3ril+FKEAAAAASUVORK5CYII="},"49e4":function(t,e,a){},"57be":function(t,e,a){"use strict";a("49e4")},"9b74":function(t,e,a){"use strict";a.d(e,"j",(function(){return s})),a.d(e,"i",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"a",(function(){return l})),a.d(e,"f",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"n",(function(){return p})),a.d(e,"h",(function(){return d})),a.d(e,"c",(function(){return m})),a.d(e,"m",(function(){return u})),a.d(e,"b",(function(){return v})),a.d(e,"g",(function(){return _})),a.d(e,"e",(function(){return f})),a.d(e,"l",(function(){return h}));var i=a("f175");const s=t=>i.a.get("/printer.printer/printerLists",{params:t}),r=t=>i.a.get("/printer.printer/printerDetail",{params:t}),n=t=>i.a.get("/printer.printer/getPrinterType",{params:t}),l=t=>i.a.post("/printer.printer/addPrinter",t),o=t=>i.a.post("/printer.printer/editPrinter",t),c=t=>i.a.post("/printer.printer/deletePrinter",t),p=t=>i.a.post("/printer.printer/testPrinter",t),d=t=>i.a.post("/order.order/orderPrint",t),m=t=>i.a.post("/printer.printer/autoPrint",t),u=t=>i.a.get("/printer.printer/printerTemplateLists",{params:t}),v=t=>i.a.post("/printer.printer/addTemplate",t),_=t=>i.a.post("/printer.printer/editTemplate",t),f=t=>i.a.post("/printer.printer/deleteTemplate",t),h=t=>i.a.get("/printer.printer/templateDetail",{params:t})},f02d:function(t,e,a){"use strict";a.r(e);var i=a("9ab4"),s=a("1b40"),r=a("9b74"),n=a("b3ad");let l=class extends s.e{constructor(){super(...arguments),this.identity=1,this.printData={template_name:"",ticket_name:"",show_shop_name:1,template_id:0,selffetch_shop:{shop_name:1,contacts:1,shop_address:1},show_buyer_message:1,consignee_info:{name:1,mobile:1,address:1},show_qrcode:1,bottom:"谢谢惠顾，欢迎下次光临",qrcode_name:"",qrcode_content:""},this.rules={template_name:[{required:!0,message:"请输入打印机名称",trigger:"blur"}],ticket_name:[{required:!0,message:"输入小票名称",trigger:"blur"}],bottom:[{required:!0,message:"请输入底部信息",trigger:"blur"}],qrcode_content:[{required:!0,message:"请输入二维码链接",trigger:"blur"}],qrcode_name:[{required:!0,message:"请输入二维码名称",trigger:"blur"}]}}async getTemplateDetail(){const t=await Object(r.l)({id:this.identity});this.printData=t}onSubmit(t){this.$refs[t].validate(t=>{t&&(this.identity?this.handleTemplateEdit():this.handleTemplateAdd())})}async handleTemplateAdd(){const t=this.printData;await Object(r.b)({...t}),this.$router.back()}handleTemplateEdit(){const t=this.printData,e=this.identity;Object(r.g)({...t,id:e}).then(()=>{setTimeout(()=>this.$router.go(-1),500)}).catch(()=>{this.$message.error("编辑失败!")})}created(){const t=this.$route.query;this.identity=t.id,this.identity&&this.getTemplateDetail()}get handleShopInfo(){const t=[],e=this.printData.selffetch_shop;for(const a in e)t.push(e[a]);return null!=t.find(t=>1==t)}get handleUserInfo(){const t=[],e=this.printData.consignee_info;for(const a in e)t.push(e[a]);return null!=t.find(t=>1==t)}};l=Object(i.a)([Object(s.a)({components:{MaterialSelect:n.a}})],l);var o=l,c=(a("57be"),a("2877")),p=Object(c.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ls-card"},[i("el-page-header",{attrs:{content:t.identity?"编辑小票模版":"新增小票模版"},on:{back:function(e){return t.$router.go(-1)}}})],1),i("div",{staticClass:"flex col-top"},[i("div",{staticClass:"ls-card m-t-24 m-b-60 m-r-24"},[i("div",{staticClass:"title"},[t._v("基本信息")]),i("el-form",{ref:"printData",staticClass:"m-l-24",staticStyle:{width:"500px"},attrs:{"hide-required-asterisk":!1,rules:t.rules,model:t.printData,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"模版名称",prop:"template_name","label-position":"right"}},[i("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入模版名称"},model:{value:t.printData.template_name,callback:function(e){t.$set(t.printData,"template_name",e)},expression:"printData.template_name"}})],1),i("el-form-item",{attrs:{label:"小票名称",prop:"ticket_name","label-position":"right"}},[i("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入小票名称"},model:{value:t.printData.ticket_name,callback:function(e){t.$set(t.printData,"ticket_name",e)},expression:"printData.ticket_name"}})],1),i("el-form-item",{attrs:{label:"商城名称","label-position":"right",required:""}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":t.styleConfig.primary,"inactive-color":"#f4f4f5"},model:{value:t.printData.show_shop_name,callback:function(e){t.$set(t.printData,"show_shop_name",e)},expression:"printData.show_shop_name"}}),i("span",{staticClass:"muted m-l-20"},[t._v("隐藏和显示商城名称，默认显示")])],1),i("el-form-item",{attrs:{label:"自提门店","label-position":"right",required:""}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.selffetch_shop.shop_name,callback:function(e){t.$set(t.printData.selffetch_shop,"shop_name",e)},expression:"printData.selffetch_shop.shop_name"}},[t._v("自提门店 ")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.selffetch_shop.contacts,callback:function(e){t.$set(t.printData.selffetch_shop,"contacts",e)},expression:"printData.selffetch_shop.contacts"}},[t._v("联系人 ")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.selffetch_shop.shop_address,callback:function(e){t.$set(t.printData.selffetch_shop,"shop_address",e)},expression:"printData.selffetch_shop.shop_address"}},[t._v(" 门店地址 ")]),i("span",{staticClass:"desc"},[t._v("门店自提时，勾选需要显示的门店信息")])],1),i("el-form-item",{attrs:{label:"买家留言","label-position":"right",required:""}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":t.styleConfig.primary,"inactive-color":"#f4f4f5"},model:{value:t.printData.show_buyer_message,callback:function(e){t.$set(t.printData,"show_buyer_message",e)},expression:"printData.show_buyer_message"}}),i("span",{staticClass:"muted m-l-20"},[t._v("隐藏和显示买家留言，默认显示")])],1),i("el-form-item",{attrs:{label:"收货信息","label-position":"right",required:""}},[i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.consignee_info.name,callback:function(e){t.$set(t.printData.consignee_info,"name",e)},expression:"printData.consignee_info.name"}},[t._v("收货人 ")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.consignee_info.mobile,callback:function(e){t.$set(t.printData.consignee_info,"mobile",e)},expression:"printData.consignee_info.mobile"}},[t._v("联系方式 ")]),i("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.printData.consignee_info.address,callback:function(e){t.$set(t.printData.consignee_info,"address",e)},expression:"printData.consignee_info.address"}},[t._v("收货地址 ")]),i("span",{staticClass:"desc"},[t._v("门店自提时，勾选需要显示的门店信息")])],1),i("el-form-item",{attrs:{label:"二维码","label-position":"right",required:""}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":t.styleConfig.primary,"inactive-color":"#f4f4f5"},model:{value:t.printData.show_qrcode,callback:function(e){t.$set(t.printData,"show_qrcode",e)},expression:"printData.show_qrcode"}}),i("span",{staticClass:"muted m-l-20"},[t._v("关闭和开启打印小票尾部二维码，默认关闭")])],1),i("el-form-item",{attrs:{label:"二维码链接","label-position":"right"}},[i("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入二维码链接"},model:{value:t.printData.qrcode_content,callback:function(e){t.$set(t.printData,"qrcode_content",e)},expression:"printData.qrcode_content"}})],1),i("el-form-item",{attrs:{label:"二维码名称","label-position":"right"}},[i("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入二维码名称"},model:{value:t.printData.qrcode_name,callback:function(e){t.$set(t.printData,"qrcode_name",e)},expression:"printData.qrcode_name"}})],1),i("el-form-item",{attrs:{label:"底部信息",prop:"bottom","label-position":"right",required:""}},[i("el-input",{staticClass:"ls-input",attrs:{placeholder:"谢谢惠顾，欢迎下次光临"},model:{value:t.printData.bottom,callback:function(e){t.$set(t.printData,"bottom",e)},expression:"printData.bottom"}})],1)],1)],1),i("div",{staticClass:"ls-card m-b-60 m-t-24"},[i("div",{staticClass:"title"},[t._v("小票预览")]),i("div",{staticClass:"phone"},[i("div",{staticClass:"bb flex row-center sm m-t-5 p-b-12"},[t._v(" "+t._s(t.printData.ticket_name||"小票名称")+" ")]),t.printData.show_shop_name?i("div",{staticClass:"bb flex row-center m-t-12 xl p-b-12"},[t._v("商城名称")]):t._e(),t._m(0),t._m(1),t._m(2),t.handleShopInfo?i("div",{staticClass:"bb p-b-12 p-l-10 p-r-10"},[i("div",{staticClass:"bold m-t-12 weight-500"},[t._v("门店信息")]),t.printData.selffetch_shop.shop_name?i("div",{staticClass:"m-t-12"},[t._v("自提门店: 商业街店铺")]):t._e(),t.printData.selffetch_shop.contacts?i("div",{staticClass:"m-t-12"},[t._v("联系人: 刘先生")]):t._e(),t.printData.selffetch_shop.shop_address?i("div",{staticClass:"m-t-12"},[t._v(" 门店地址: 广东省番禺区 小店街 ")]):t._e()]):t._e(),t.handleUserInfo?i("div",{staticClass:"bb p-b-12 p-l-10 p-r-10"},[i("div",{staticClass:"bold m-t-12 weight-500"},[t._v("买家信息")]),t.printData.consignee_info.name?i("div",{staticClass:"m-t-12"},[t._v("收货人: 米先生")]):t._e(),t.printData.consignee_info.mobile?i("div",{staticClass:"m-t-12"},[t._v("联系方式: 18778786555")]):t._e(),t.printData.consignee_info.address?i("div",{staticClass:"m-t-12"},[t._v(" 收货地址: 山西省 太原市 小区店 创业街 ")]):t._e()]):t._e(),t.printData.show_buyer_message?i("div",{staticClass:"m-t-12 p-b-12 bb p-l-10"},[t._v(" 买家留言: 请发申通快递，谢谢 ")]):t._e(),t.printData.show_qrcode?i("div",{staticClass:"flex row-center bb m-t-12 p-b-12"},[i("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a("11087")}})]):t._e(),i("div",{staticClass:"m-t-12 p-b-5 flex row-center"},[t._v(" "+t._s(t.printData.bottom)+" ")])])])]),i("div",{staticClass:"bg-white ls-fixed-footer"},[i("div",{staticClass:"row-center flex m-t-12"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("printData")}}},[t._v("保存")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sm bb p-l-10"},[e("div",{staticClass:"m-t-12"},[this._v("订单编号: MWE20012345738754657834")]),e("div",{staticClass:"m-t-12"},[this._v("支付方式: 微信支付")]),e("div",{staticClass:"m-t-12 p-b-12"},[this._v("配送方式: 门店自提")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bb p-l-10 p-r-10"},[a("div",{staticClass:"m-t-12 flex row-between"},[a("div",[t._v("商品名称")]),a("div",[t._v("数量")]),a("div",[t._v("金额")])]),a("div",{staticClass:"m-t-12 flex row-between"},[a("div",[t._v("男子运动鞋")]),a("div",[t._v("2")]),a("div",[t._v("¥2987")])]),a("div",{staticClass:"m-t-12 flex row-between"},[a("div",[t._v("白色休闲鞋")]),a("div",[t._v("4")]),a("div",[t._v("¥2463")])]),a("div",{staticClass:"m-t-12 p-b-12 flex row-between"},[a("div",[t._v("运费")]),a("div",[t._v("¥5.00")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-l-10 p-r-10 bb"},[e("div",{staticClass:"m-t-12 flex row-between"},[e("div",[this._v("订单原价")]),e("div",[this._v("¥5455.00")])]),e("div",{staticClass:"m-t-12 flex row-between"},[e("div",[this._v("优惠金额")]),e("div",[this._v("¥0.00")])]),e("div",{staticClass:"m-t-12 p-b-12 flex row-between"},[e("div",[this._v("实付金额")]),e("div",[this._v("¥5455.00")])])])}],!1,null,"5eb70a9e",null);e.default=p.exports}}]);