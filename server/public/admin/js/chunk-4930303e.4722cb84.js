(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4930303e"],{"07f8":function(t,e,i){"use strict";i.r(e);var s=i("9ab4"),r=i("1b40"),a=i("4072"),n=i("2c96"),o=i("b532"),l=i("0a6d");let u=class extends r.e{constructor(){super(...arguments),this.distributionData={level_name:"",earningns:"",unreturned_commission:"",distribution_order_num:"",user_info:{nickname:"凉央未夜11111111111",sn:"58565263"}}}getDetailsData(){Object(a.g)({user_id:this.id}).then(t=>{this.distributionData={...t}})}frozen(){Object(a.y)({user_id:this.id}).then(()=>{this.getDetailsData()})}toInvitationList(){this.$router.push({path:"/distribution/lower_level_list",query:{id:this.id}})}created(){this.id=this.$route.query.id,this.id&&this.getDetailsData()}};u=Object(s.a)([Object(r.a)({components:{LsDialog:l.a,DistributeGrade:o.a,LsInvitationChange:n.a}})],u);var d=u,c=(i("1d44"),i("2877")),m=Object(c.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"ls-card"},[i("el-page-header",{attrs:{content:"分销商详情"},on:{back:function(e){return t.$router.go(-1)}}})],1),i("div",{staticClass:"ls-card m-t-10 m-b-60"},[i("div",{staticClass:"xxl weight-500 m-b-20"},[t._v("分销信息")]),i("div",{staticClass:"content"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"statistics-col",attrs:{span:6}},[i("div",{staticClass:"lighter"},[t._v("分销等级")]),i("div",{staticClass:"flex row-center"},[i("div",{staticClass:"m-l-50 m-r-10"},[t._v(" "+t._s(t.distributionData.level_name)+" ")]),i("distribute-grade",{attrs:{id:t.id},on:{update:t.getDetailsData}},[i("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v("等级调整")])],1)],1)]),i("el-col",{staticClass:"statistics-col",attrs:{span:6}},[i("div",{staticClass:"lighter"},[t._v("已入账佣金")]),i("div",{staticClass:"m-t-8"},[t._v(" "+t._s(t.distributionData.earningns)+" ")])]),i("el-col",{staticClass:"statistics-col",attrs:{span:6}},[i("div",{staticClass:"lighter"},[t._v("待结算佣金")]),i("div",{staticClass:"m-t-8"},[t._v(" "+t._s(t.distributionData.unreturned_commission)+" ")])]),i("el-col",{staticClass:"statistics-col",attrs:{span:6}},[i("div",{staticClass:"lighter"},[t._v("分销订单")]),i("div",{staticClass:"m-t-8"},[t._v(" "+t._s(t.distributionData.distribution_order_num)+" ")])])],1)],1),i("el-form",{ref:"distributionData",attrs:{model:t.distributionData,"label-width":"120px",size:"small"}},[i("el-form-item",{attrs:{label:"用户信息",prop:""}},[[t._v(" "+t._s(t.distributionData.user_info.nickname)+"("+t._s(t.distributionData.user_info.sn)+") ")]],2),i("el-form-item",{attrs:{label:"上级分销商",prop:""}},[[i("div",{staticClass:"flex"},[i("div",{staticClass:"m-r-10"},[t._v(" "+t._s(t.distributionData.first_leader_info)+" ")]),i("ls-invitation-change",{attrs:{title:"上级分销商调整",nickname:t.distributionData.user_info.nickname,sn:t.distributionData.user_info.sn,value:t.distributionData.user_info.first_leader,userId:t.id},on:{refresh:t.getDetailsData}},[i("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)]],2),i("el-form-item",{attrs:{label:"下级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans)+" "),i("span",{staticClass:"primary m-l-20 pointer",on:{click:t.toInvitationList}},[t._v("查看下级列表")])]],2),i("el-form-item",{attrs:{label:"下级分销商人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_distribution)+" ")]],2),i("el-form-item",{attrs:{label:"下一级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_one)+" ")]],2),i("el-form-item",{attrs:{label:"下二级人数",prop:""}},[[t._v(" "+t._s(t.distributionData.fans_two)+" ")]],2),i("el-form-item",{attrs:{label:"分销状态",prop:""}},[[t._v(" "+t._s(0==t.distributionData.is_freeze?"正常":"冻结")+" ")]],2),i("el-form-item",{attrs:{label:"成为分销商时间",prop:""}},[[t._v(" "+t._s(t.distributionData.distribution_time)+" ")]],2)],1),i("div",[0==t.distributionData.is_freeze?i("ls-dialog",{staticClass:"inline m-l-10",attrs:{title:"冻结资格",content:"确定冻结该用户的分销资格吗？"},on:{confirm:t.frozen}},[i("el-button",{attrs:{slot:"trigger",size:"mini",stype:"primary"},slot:"trigger"},[t._v("冻结资格")])],1):i("ls-dialog",{staticClass:"inline m-l-10",attrs:{title:"恢复资格",content:"确定恢复该用户的分销资格吗？"},on:{confirm:t.frozen}},[i("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[t._v("恢复资格")])],1)],1)],1)])}),[],!1,null,"6a780b1e",null);e.default=m.exports},"098b":function(t,e,i){},"1a5c":function(t,e,i){"use strict";i("098b")},"1d44":function(t,e,i){"use strict";i("48d0")},"2c96":function(t,e,i){"use strict";var s=i("9ab4"),r=i("1b40"),a=i("f633"),n=i("6ddb"),o=i("3c50");let l=class extends r.e{constructor(){super(...arguments),this.visible=!1,this.isNameSN="",this.form={user_id:"",sn:"",nickname:""},this.pager=new n.a,this.currentRow={},this.formRules={}}getuserId(t){this.$set(this.form,"user_id",t)}getChange(t){this.form.sn="",this.form.nickname=""}onTrigger(){this.getList(),this.visible=!0}close(){this.visible=!1,this.form.sn="",this.form.nickname=""}onSubmit(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择用户"):(this.$emit("getUser",this.currentRow),void(this.visible=!1))}getList(){this.pager.request({callback:a.a,params:{...this.form}}).then(t=>{})}onReset(){this.form.sn="",this.form.nickname="",this.getList()}handleCurrentChange(t){this.currentRow=t}};Object(s.a)([Object(r.c)()],l.prototype,"userId",void 0),Object(s.a)([Object(r.c)({default:""})],l.prototype,"title",void 0),Object(s.a)([Object(r.c)({default:"880px"})],l.prototype,"width",void 0),Object(s.a)([Object(r.c)({default:"10vh"})],l.prototype,"top",void 0),Object(s.a)([Object(r.f)("userId",{immediate:!0})],l.prototype,"getuserId",null),Object(s.a)([Object(r.f)("isNameSN",{immediate:!0})],l.prototype,"getChange",null),l=Object(s.a)([Object(r.a)({components:{LsPagination:o.a}})],l);var u=l,d=i("2877"),c=Object(d.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),i("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:t.title,visible:t.visible,width:t.width,top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1,"append-to-body":!0}},[i("div",{},[i("el-form",{staticClass:"ls-form",attrs:{inline:"",model:t.form,"label-width":"70px",size:"small"}},[i("el-form-item",{attrs:{label:"用户信息"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用户编号"},model:{value:t.isNameSN,callback:function(e){t.isNameSN=e},expression:"isNameSN"}},[i("el-option",{attrs:{label:"用户编号",value:"0"}}),i("el-option",{attrs:{label:"用户昵称",value:"1"}})],1),0==t.isNameSN?i("el-input",{attrs:{placeholder:"请输入用户编号查询"},model:{value:t.form.sn,callback:function(e){t.$set(t.form,"sn",e)},expression:"form.sn"}}):t._e(),1==t.isNameSN?i("el-input",{attrs:{placeholder:"请输入用户昵称查询"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}}):t._e()],1),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.getList}},[t._v("查询")]),i("el-button",{attrs:{size:"small"},on:{click:t.onReset}},[t._v("重置")])],1),i("div",{staticClass:"list-table m-t-16"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:t.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[i("el-table-column",{attrs:{prop:"sn",label:"用户编号","min-width":"",width:""}}),i("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"",width:""}})],1)],1),i("div",{staticClass:"flex row-right m-t-16 row-right"},[i("ls-pagination",{on:{change:function(e){return t.getList()}},model:{value:t.pager,callback:function(e){t.pager=e},expression:"pager"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("确认")])],1)])],1)}),[],!1,null,"dd7a295c",null).exports;let m=class extends r.e{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:"assign",first_id:""},this.selectUser={id:"",nickname:"",sn:""},this.formRules={type:[{required:!0,message:"请选择",trigger:"change"}]}}getuserId(t){this.$set(this.form,"user_id",t)}getUser(t){null!=t&&(this.selectUser=t,this.form.first_id=this.selectUser.id)}onSubmit(){this.$refs.formRef.validate(t=>{if(t){if(""==this.form.first_id&&"assign"==this.form.type)return this.$message.error("请选择上级分销商");Object(a.v)({...this.form}).then(t=>{this.$emit("refresh")}).catch(t=>{}),this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}};Object(s.a)([Object(r.c)()],m.prototype,"value",void 0),Object(s.a)([Object(r.c)()],m.prototype,"nickname",void 0),Object(s.a)([Object(r.c)()],m.prototype,"sn",void 0),Object(s.a)([Object(r.c)()],m.prototype,"userId",void 0),Object(s.a)([Object(r.c)({default:""})],m.prototype,"title",void 0),Object(s.a)([Object(r.c)({default:"660px"})],m.prototype,"width",void 0),Object(s.a)([Object(r.c)({default:"20vh"})],m.prototype,"top",void 0),Object(s.a)([Object(r.f)("userId",{immediate:!0})],m.prototype,"getuserId",null),m=Object(s.a)([Object(r.a)({components:{LsUserSelect:c}})],m);var b=m,f=Object(d.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),i("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:t.title,visible:t.visible,width:t.width,top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1}},[i("div",{},[i("el-form",{ref:"formRef",attrs:{rules:t.formRules,model:t.form,"label-width":"120px",size:"small"}},[i("el-form-item",{attrs:{label:"用户信息",prop:""}},[i("div",{},[t._v(t._s(t.nickname)+"("+t._s(t.sn)+")")])]),i("el-form-item",{attrs:{label:"当前上级分销商",prop:""}},[i("div",{},[t._v(" "+t._s(t.value)+" ")])]),i("el-form-item",{attrs:{label:"调整方式",prop:"type",required:""}},[i("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[i("el-radio",{attrs:{label:"assign"}},[t._v("指定分销商")]),i("el-radio",{attrs:{label:"system"}},[t._v("设置分销商为系统")])],1),i("div",{staticClass:"muted xs m-r-16"},[t._v("选择“设置分销商为系统”时，用户的上级分销商会默认为系统")])],1),i("el-form-item",{attrs:{label:"选择分销商",prop:"",required:""}},[i("div",{staticClass:"flex"},[""!=t.selectUser.nickname?i("div",{staticClass:"m-r-10"},[t._v(" "+t._s(t.selectUser.nickname||"")+"("+t._s(t.selectUser.sn||"")+") ")]):t._e(),i("ls-user-select",{attrs:{title:"选择用户",userId:t.form.user_id},on:{getUser:t.getUser}},[i("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v("选择用户")])],1)],1),i("div",{staticClass:"muted xs m-r-16"},[t._v("选择新的分销商")])])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("确认")])],1)])],1)}),[],!1,null,"367e3856",null);e.a=f.exports},4072:function(t,e,i){"use strict";i.d(e,"f",(function(){return r})),i.d(e,"z",(function(){return a})),i.d(e,"A",(function(){return n})),i.d(e,"m",(function(){return o})),i.d(e,"l",(function(){return l})),i.d(e,"k",(function(){return u})),i.d(e,"n",(function(){return d})),i.d(e,"u",(function(){return c})),i.d(e,"t",(function(){return m})),i.d(e,"c",(function(){return b})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return p})),i.d(e,"v",(function(){return v})),i.d(e,"y",(function(){return g})),i.d(e,"b",(function(){return _})),i.d(e,"a",(function(){return h})),i.d(e,"g",(function(){return j})),i.d(e,"i",(function(){return y})),i.d(e,"j",(function(){return k})),i.d(e,"s",(function(){return O})),i.d(e,"q",(function(){return C})),i.d(e,"r",(function(){return w})),i.d(e,"o",(function(){return x})),i.d(e,"p",(function(){return D})),i.d(e,"w",(function(){return L})),i.d(e,"h",(function(){return z})),i.d(e,"x",(function(){return $}));var s=i("f175");const r=()=>s.a.get("/distribution.distribution_data/dataCenter"),a=t=>s.a.get("/distribution.distribution_data/topMemberEarnings",{params:t}),n=t=>s.a.get("/distribution.distribution_data/topMemberFans",{params:t}),o=t=>s.a.get("/distribution.distribution_goods/lists",{params:t}),l=t=>s.a.post("/distribution.distribution_goods/join",t),u=t=>s.a.get("/distribution.distribution_goods/detail",{params:t}),d=t=>s.a.post("/distribution.distribution_goods/set",t),c=t=>s.a.get("/distribution.distribution_member/lists",{params:t}),m=t=>s.a.get("/distribution.distribution_apply/detail",{params:t}),b=t=>s.a.get("/distribution.distribution_apply/lists",{params:t}),f=t=>s.a.post("/distribution.distribution_apply/pass",t),p=t=>s.a.post("/distribution.distribution_apply/refuse",t),v=t=>s.a.post("/distribution.distribution_member/open",t),g=t=>s.a.post("/distribution.distribution_member/freeze",t),_=t=>s.a.get("/distribution.distribution_member/adjustLevelInfo",{params:t}),h=t=>s.a.post("/distribution.distribution_member/adjustLevel",t),j=t=>s.a.get("/distribution.distribution_member/detail",{params:t}),y=t=>s.a.get("/distribution.distribution_member/getFans",{params:t}),k=t=>s.a.get("/distribution.distribution_member/getFansLists",{params:t}),O=t=>s.a.get("/distribution.distribution_level/lists",t),C=t=>s.a.get("/distribution.distribution_level/detail",{params:t}),w=t=>s.a.post("/distribution.distribution_level/edit",t),x=t=>s.a.post("/distribution.distribution_level/add",t),D=t=>s.a.post("/distribution.distribution_level/delete",t),L=t=>s.a.get("/distribution.distribution_order_goods/lists",{params:t}),z=t=>s.a.get("/distribution.distribution_config/getConfig",{params:t}),$=t=>s.a.post("/distribution.distribution_config/setConfig",t)},"48d0":function(t,e,i){},b532:function(t,e,i){"use strict";var s=i("9ab4"),r=i("1b40"),a=i("4072");let n=class extends r.e{constructor(){super(...arguments),this.visible=!1,this.distributionList={user:{level_name:"默认等级(1级)",nickname:"",sn:""}},this.form={level_id:""}}getDistributionAdjustLevelInfo(){Object(a.b)({user_id:this.id}).then(t=>{this.distributionList=t})}handleEvent(t){if("cancel"===t&&this.close(),"confirm"===t){if(""==this.form.level_id)return this.$message.error("请选择分销等级！");this.form.user_id=this.id,Object(a.a)({...this.form}).then(()=>{this.$emit("update","")}),this.close()}}onTrigger(){this.getDistributionAdjustLevelInfo(),this.visible=!0}close(){this.visible=!1}};Object(s.a)([Object(r.c)({default:"25vh"})],n.prototype,"top",void 0),Object(s.a)([Object(r.c)({default:1})],n.prototype,"id",void 0),n=Object(s.a)([r.a],n);var o=n,l=(i("1a5c"),i("2877")),u=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{on:{click:t.onTrigger}},[t._t("trigger")],2),i("el-dialog",{attrs:{title:"等级调整",visible:t.visible,width:"50vw",top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:0==t.distributionList.length,expression:"distributionList.length == 0"}],staticClass:"content"},[i("el-form",{ref:"distributionData",attrs:{model:t.form,"label-width":"220px",size:"small"}},[i("el-form-item",{attrs:{label:"用户信息：",prop:""}},[t._v(" "+t._s(t.distributionList.user.nickname)+"（"+t._s(t.distributionList.user.sn)+") ")]),i("el-form-item",{attrs:{label:"当前分销等级",prop:""}},[t._v(" "+t._s(t.distributionList.user.level_name)+" ")]),i("el-form-item",{attrs:{label:"调整后分销等级",prop:"",required:""}},[i("el-select",{attrs:{placeholder:"全部"},model:{value:t.form.level_id,callback:function(e){t.$set(t.form,"level_id",e)},expression:"form.level_id"}},t._l(t.distributionList.levels,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleEvent("cancel")}}},[t._v("取消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleEvent("confirm")}}},[t._v("确认")])],1)])],1)}),[],!1,null,"1335ab4a",null);e.a=u.exports},f633:function(t,e,i){"use strict";i.d(e,"o",(function(){return r})),i.d(e,"k",(function(){return a})),i.d(e,"m",(function(){return n})),i.d(e,"n",(function(){return o})),i.d(e,"l",(function(){return l})),i.d(e,"j",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"h",(function(){return c})),i.d(e,"i",(function(){return m})),i.d(e,"g",(function(){return b})),i.d(e,"p",(function(){return f})),i.d(e,"q",(function(){return p})),i.d(e,"b",(function(){return v})),i.d(e,"s",(function(){return g})),i.d(e,"t",(function(){return _})),i.d(e,"u",(function(){return h})),i.d(e,"r",(function(){return j})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return k})),i.d(e,"e",(function(){return O})),i.d(e,"v",(function(){return C})),i.d(e,"a",(function(){return w}));var s=i("f175");const r=t=>s.a.get("/user.user_level/lists",{params:t}),a=t=>s.a.post("/user.user_level/add",t),n=t=>s.a.get("/user.user_level/detail",{params:t}),o=t=>s.a.post("/user.user_level/edit",t),l=t=>s.a.post("/user.user_level/del",t),u=t=>s.a.get("/user.user_label/lists",{params:t}),d=t=>s.a.post("/user.user_label/add",t),c=t=>s.a.get("/user.user_label/detail",{params:t}),m=t=>s.a.post("/user.user_label/edit",t),b=t=>s.a.post("/user.user_label/del",t),f=t=>s.a.get("/user.user/lists",{params:t}),p=()=>s.a.get("/user.user/otherList"),v=t=>s.a.get("/user.user/detail",{params:t}),g=t=>s.a.post("/user.user/setInfo",t),_=t=>s.a.post("/user.user/setLabel",t),h=t=>s.a.post("/user.user/setUserLabel",t),j=t=>s.a.post("/user.user/adjustUserWallet",t),y=()=>s.a.get("/user.user/index"),k=t=>s.a.get("/user.user/info",{params:t}),O=t=>s.a.get("/user.user/userInviterLists",{params:t}),C=t=>s.a.post("/user.user/adjustFirstLeader",t),w=t=>s.a.get("/user.user/selectUserLists",{params:t})}}]);