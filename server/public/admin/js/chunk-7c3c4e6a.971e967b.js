(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c3c4e6a"],{"10c4":function(e,t,a){},"900f":function(e,t,a){"use strict";a.r(t);var s=a("9ab4"),l=a("1b40"),i=a("c2a9"),n=a("6ddb"),r=a("0a6d"),o=a("3c50");let c=class extends l.e{valueChange(){this.$nextTick(()=>{this.$refs.form.clearValidate()})}closeDialog(){this.$refs.lsDialog.close()}openDialog(){this.$refs.lsDialog.open()}handleSave(){this.$refs.form.validate((e,t)=>{if(!e)return!1;this.$emit("save",this.value)})}};Object(s.a)([Object(l.c)()],c.prototype,"value",void 0),Object(s.a)([Object(l.f)("value",{deep:!0})],c.prototype,"valueChange",null),c=Object(s.a)([Object(l.a)({components:{LsDialog:r.a}})],c);var u=c,d=a("2877"),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"speech-edit"},[a("ls-dialog",{ref:"lsDialog",attrs:{async:!0,width:"740px",top:"20vh",title:e.value.id?"编辑客服话术":"新客服话术",confirmButtonText:"保存"},on:{cancel:e.closeDialog,confirm:e.handleSave}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.value,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"话术标题",required:"",prop:"title",rules:[{required:!0,message:"请输入话术标题",trigger:["blur","change"]}]}},[a("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入话术标题"},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}})],1),a("el-form-item",{attrs:{label:"话术内容",required:"",prop:"content",rules:[{required:!0,message:"请输入话术内容",trigger:["blur","change"]}]}},[a("el-input",{staticStyle:{width:"380px"},attrs:{type:"textarea",placeholder:"多行输入",rows:10},model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:""},model:{value:e.value.sort,callback:function(t){e.$set(e.value,"sort",t)},expression:"value.sort"}}),a("div",{staticClass:"xs muted"},[e._v("排序值必须为整数；数值越小，越靠前")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports;let f=class extends l.e{constructor(){super(...arguments),this.speechItem={},this.pager=new n.a}getLists(e){e&&(this.pager.page=e),this.pager.request({callback:i.j})}handleDelete(e){Object(i.h)({id:e}).then(()=>{this.getLists()})}handleAdd(){this.speechItem={title:"",content:"",sort:""},this.$refs.speechEdit.openDialog()}handleEdit({id:e,title:t,content:a,sort:s}){this.speechItem={id:e,title:t,content:a,sort:s},this.$refs.speechEdit.openDialog()}handleSave(e){(e.id?Object(i.i)(e):Object(i.g)(e)).then(()=>{this.$refs.speechEdit.closeDialog(),this.getLists(1)})}created(){this.getLists()}};f=Object(s.a)([Object(l.a)({components:{LsDialog:r.a,LsPagination:o.a,SpeechEdit:p}})],f);var h=f,g=(a("f8d3"),Object(d.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"speech-lists"},[a("div",{staticClass:"ls-card"},[a("el-alert",{attrs:{title:"温馨提示：添加在线客服话术，方便客服快捷回复。",type:"info","show-icon":"",closable:!1}})],1),a("div",{staticClass:"ls-card m-t-16"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新增话术")]),a("div",{staticClass:"m-t-24"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{data:e.pager.lists,size:"mini"}},[a("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"200"}}),a("el-table-column",{attrs:{prop:"content",label:"内容","min-width":"300"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"130"}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"m-r-10"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])],1),a("ls-dialog",{staticClass:"inline",on:{confirm:function(a){return e.handleDelete(t.row.id)}}},[a("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("删除")])],1)]}}])})],1),a("div",{staticClass:"m-t-24 pagination"},[a("ls-pagination",{on:{change:function(t){return e.getLists()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1)],1),a("speech-edit",{ref:"speechEdit",attrs:{value:e.speechItem},on:{save:e.handleSave}})],1)}),[],!1,null,"28ec1ba6",null));t.default=g.exports},c2a9:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"k",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"l",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"m",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"j",(function(){return f})),a.d(t,"g",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"h",(function(){return m}));var s=a("f175");const l=e=>s.a.get("/settings.service.service/getConfig",{params:e}),i=e=>s.a.post("/settings.service.service/setConfig",e),n=e=>s.a.get("/kefu.kefu/lists",{params:e}),r=e=>s.a.post("/kefu.kefu/add",e),o=e=>s.a.post("/kefu.kefu/edit",e),c=e=>s.a.post("/kefu.kefu/login",e),u=e=>s.a.get("/kefu.kefu/detail",{params:e}),d=e=>s.a.post("/kefu.kefu/status",e),p=e=>s.a.post("/kefu.kefu/del",e),f=e=>s.a.get("/kefu.kefu_lang/lists",{params:e}),h=e=>s.a.post("/kefu.kefu_lang/add",e),g=e=>s.a.post("/kefu.kefu_lang/edit",e),m=e=>s.a.post("/kefu.kefu_lang/del",e)},f8d3:function(e,t,a){"use strict";a("10c4")}}]);