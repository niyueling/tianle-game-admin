(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d756e70"],{"1e20":function(t,e,a){"use strict";a.r(e);var r=a("9ab4"),s=a("1b40"),l=a("0a6d"),i=a("5cf7"),o=a("50c0"),n=a("92f3");let d=class extends s.e{constructor(){super(...arguments),this.id=0,this.orderData={address:{},user:{},admin_btns:{}}}getOrderDetail(){Object(n.l)({id:this.id}).then(t=>{this.orderData=t})}orderCancel(){Object(n.b)({id:this.id}).then(t=>{this.getOrderDetail()})}orderConfirm(){Object(n.c)({id:this.id}).then(t=>{this.getOrderDetail()})}get getOrderGoods(){const{goods_snap:t,order_amount:e,total_num:a,order_integral:r}=this.orderData;let s=[];return t&&(s=[{...t,order_amount:e,total_num:a,order_integral:r}]),s}created(){this.id=this.$route.query.id,this.id&&this.getOrderDetail()}};d=Object(r.a)([Object(s.a)({components:{LsDialog:l.a,AreaSelect:i.a,OrderLogistics:o.a}})],d);var c=d,m=(a("7a98"),a("2877")),_=Object(m.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-b-20"},[a("header",[a("div",{staticClass:"ls-card"},[a("el-page-header",{attrs:{content:"订单详情"},on:{back:function(e){return t.$router.go(-1)}}})],1),a("div",{staticClass:"flex m-t-24"},[a("div",{staticClass:"ls-card flex flex-wrap col-stretch"},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"nr weight-500 m-b-20 title"},[t._v("订单信息")]),a("div",{staticClass:"flex col-top"},[a("el-form",{ref:"form",attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"订单状态"}},[t._v(" "+t._s(t.orderData.order_status_desc)+" ")]),a("el-form-item",{attrs:{label:"订单编号"}},[t._v(" "+t._s(t.orderData.sn)+" ")]),a("el-form-item",{attrs:{label:"兑换类型"}},[t._v(" "+t._s(t.orderData.exchange_type_desc)+" ")]),a("el-form-item",{attrs:{label:"下单时间"}},[t._v(" "+t._s(t.orderData.create_time)+" ")]),a("el-form-item",{attrs:{label:"买家留言"}},[t._v(" "+t._s(t.orderData.user_remark||"-")+" ")])],1),a("el-form",{ref:"form",staticStyle:{"margin-left":"20vw"},attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"支付状态"}},[t._v(" "+t._s(t.orderData.pay_status_desc)+" ")]),a("el-form-item",{attrs:{label:"支付方式"}},[t._v(" "+t._s(t.orderData.pay_way_desc||"-")+" ")]),a("el-form-item",{attrs:{label:"支付时间"}},[t._v(" "+t._s(t.orderData.pay_time||"-")+" ")]),a("el-form-item",{attrs:{label:"完成时间"}},[t._v(" "+t._s(t.orderData.confirm_take_time||"-")+" ")])],1)],1)]),a("div",{staticClass:"flex col-bottom",staticStyle:{width:"100%"}},[a("div",{staticClass:"border-top flex col-bottom row-left p-t-24",staticStyle:{width:"100%",height:"57px"}},[t.orderData.admin_btns.cancel_btn?a("ls-dialog",{staticClass:"inline m-l-24",attrs:{title:"取消订单",content:"确定取消订单("+t.orderData.sn+")吗?请谨慎操作"},on:{confirm:t.orderCancel}},[a("el-button",{staticStyle:{},attrs:{slot:"trigger",size:"small"},slot:"trigger"},[t._v(" 取消订单 ")])],1):t._e(),t.orderData.admin_btns.delivery_btn?a("order-logistics",{staticClass:"m-l-24",attrs:{flag:!1,id:t.id}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v(" 物流查询 ")])],1):t._e(),t.orderData.admin_btns.to_ship_btn?a("order-logistics",{staticClass:"m-l-24",attrs:{flag:!0,id:t.id},on:{update:t.getOrderDetail}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v(" 发货 ")])],1):t._e(),t.orderData.admin_btns.confirm_btn?a("ls-dialog",{staticClass:"inline m-l-24",attrs:{title:"确认收货",content:"确定确认收货吗?请谨慎操作"},on:{confirm:t.orderConfirm}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v(" 确认收货 ")])],1):t._e()],1)])])])]),a("section",[a("div",{staticClass:"ls-card m-t-24 flex flex-wrap col-stretch",staticStyle:{height:"auto"}},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"nr weight-500 m-b-20 title"},[t._v("买家信息")]),a("div",{staticClass:"flex col-top"},[a("el-form",{ref:"form",attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"会员昵称"}},[a("router-link",{attrs:{to:{path:"/user/user_details",query:{id:this.orderData.user_id}}}},[t._v(" "+t._s(t.orderData.user.nickname)+" ")])],1),a("el-form-item",{attrs:{label:"手机号码"}},[t._v(" "+t._s(t.orderData.user.mobile||"-")+" ")]),a("el-form-item",{attrs:{label:"注册时间"}},[t._v(" "+t._s(t.orderData.user.create_time)+" ")])],1),a("el-form",{ref:"form",staticStyle:{"margin-left":"20vw"},attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"会员编号"}},[t._v(" "+t._s(t.orderData.user.sn)+" ")]),a("el-form-item",{attrs:{label:"性别"}},[t._v(" "+t._s(t.orderData.user.sex)+" ")])],1)],1)])]),a("div",{staticClass:"ls-card m-t-24 flex flex-wrap col-stretch",staticStyle:{height:"auto"}},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"nr weight-500 m-b-20 title"},[t._v("收货信息")]),a("div",{staticClass:"flex col-top"},[a("el-form",{ref:"form",attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"收货人"}},[t._v(" "+t._s(t.orderData.address.contact)+" ")]),a("el-form-item",{attrs:{label:"手机号"}},[t._v(" "+t._s(t.orderData.address.mobile)+" ")]),a("el-form-item",{attrs:{label:"收货地址"}},[t._v(" "+t._s(t.orderData.delivery_address)+" ")])],1),a("el-form",{ref:"form",staticStyle:{"margin-left":"20vw"},attrs:{model:t.orderData,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"物流公司"}},[t._v(" "+t._s(t.orderData.express_name||"-")+" ")]),a("el-form-item",{attrs:{label:"快递单号"}},[t._v(" "+t._s(t.orderData.invoice_no||"-")+" ")]),a("el-form-item",{attrs:{label:"发货时间"}},[t._v(" "+t._s(t.orderData.express_time||"-")+" ")])],1)],1)])]),a("div",{staticClass:"ls-card m-t-24"},[a("div",{staticClass:"nr weight-500 m-b-20 title"},[t._v("商品信息")]),a("el-table",{ref:"paneTable",staticStyle:{width:"100%"},attrs:{data:t.getOrderGoods,size:"mini"}},[a("el-table-column",{attrs:{label:"商品信息"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex m-t-10"},[a("el-image",{staticClass:"flex-none",staticStyle:{width:"58px",height:"58px"},attrs:{src:r.image}}),a("div",{staticClass:"m-l-8 flex-1"},[a("div",{staticClass:"line-2"},[t._v(" "+t._s(r.name)+" ")])])],1)]}}])}),a("el-table-column",{attrs:{label:"市场价"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" ￥"+t._s(+a.market_price)+" ")]}}])}),a("el-table-column",{attrs:{label:"兑换积分"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex"},[t._v(" "+t._s(r.need_integral)+"积分 "),2==r.exchange_way?[t._v(" + "+t._s(+r.need_money)+"元 ")]:t._e()],2)]}}])}),a("el-table-column",{attrs:{label:"数量",prop:"total_num"}}),a("el-table-column",{attrs:{label:"运费"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" ￥"+t._s(a.express_money)+" ")]}}])}),a("el-table-column",{attrs:{label:"实付"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex"},[t._v(" "+t._s(r.order_integral)+"积分 "),r.order_amount>0?[t._v(" + "+t._s(+r.order_amount)+"元 ")]:t._e()],2)]}}])})],1)],1)])])}),[],!1,null,"6fe3d8f3",null);e.default=_.exports},"50c0":function(t,e,a){"use strict";var r=a("9ab4"),s=a("1b40"),l=a("92f3");let i=class extends s.e{constructor(){super(...arguments),this.visible=!1,this.fullscreenLoading=!1,this.orderData={traces:{},address:{}},this.form={send_type:1,express_id:"",invoice_no:""}}getOrderDeliveryInfo(){Object(l.k)({id:this.id}).then(t=>{this.orderData=t,this.fullscreenLoading=!1})}getOrderLogistics(){Object(l.i)({id:this.id}).then(t=>{this.orderData=t,this.fullscreenLoading=!1})}orderDelivery(){Object(l.e)({id:this.id,...this.form}).then(t=>{this.$emit("update",""),this.getOrderLogistics()})}handleEvent(t){if("cancel"===t&&this.close(),"confirm"===t){if(this.flag&&1==this.form.send_type){if(""==this.form.express_id)return this.$message.error("请选择快递公司");if(""==this.form.invoice_no)return this.$message.error("请填写快递单号")}this.orderDelivery(),this.close()}}onTrigger(){this.fullscreenLoading=!0,1==this.flag?this.getOrderDeliveryInfo():this.getOrderLogistics(),this.visible=!0}close(){this.visible=!1}get getOrderGoods(){const{order_goods:t}=this.orderData;let e=[];return t&&(e=[t]),e}};Object(r.a)([Object(s.c)({default:"15vh"})],i.prototype,"top",void 0),Object(r.a)([Object(s.c)({default:"0"})],i.prototype,"id",void 0),Object(r.a)([Object(s.c)({default:!0})],i.prototype,"flag",void 0),Object(r.a)([Object(s.c)({default:""})],i.prototype,"isShow",void 0),i=Object(r.a)([s.a],i);var o=i,n=(a("d1c1"),a("2877")),d=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),a("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:1==t.flag?"发货":"物流查询",visible:t.visible,width:"1050px",top:t.top,center:"","modal-append-to-body":!0,"append-to-body":!0,"before-close":t.close,"close-on-click-modal":!0}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:0==t.orderData.length,expression:"orderData.length == 0"}],staticClass:"p-l-20 p-r-20",staticStyle:{height:"50vh","overflow-x":"hidden"}},[a("div",[a("div",{staticClass:"nr weight-500 m-b-20 normal"},[t._v("商品信息")]),a("el-table",{ref:"paneTable",staticStyle:{width:"100%"},attrs:{data:t.getOrderGoods,size:"mini"}},[a("el-table-column",{attrs:{label:"商品信息","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex m-t-10"},[a("el-image",{staticClass:"flex-none",staticStyle:{width:"58px",height:"58px"},attrs:{src:r.image}}),a("div",{staticClass:"m-l-8 flex-1"},[a("div",{staticClass:"line-2"},[t._v(t._s(r.name))])])],1)]}}])}),a("el-table-column",{attrs:{label:"市场价"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("￥"+t._s(+a.market_price))]}}])}),a("el-table-column",{attrs:{label:"兑换积分"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex"},[t._v(" "+t._s(r.need_integral)+"积分 "),2==t.orderData.exchange_way?[t._v("+ "+t._s(+r.need_money)+"元")]:t._e()],2)]}}])}),a("el-table-column",{attrs:{label:"数量",prop:"goods_num"}}),a("el-table-column",{attrs:{label:"运费"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("￥"+t._s(+a.express_price))]}}])}),a("el-table-column",{attrs:{label:"实付"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{staticClass:"flex"},[t._v(" "+t._s(r.order_integral)+"积分 "),r.order_amount>0?[t._v("+ "+t._s(+r.order_amount)+"元")]:t._e()],2)]}}])})],1)],1),1==t.flag?a("div",{staticClass:"m-t-30"},[a("div",{staticClass:"nr weight-500 m-b-20 normal"},[t._v("收货信息")]),a("el-form",{ref:"form",attrs:{size:"mini","label-width":"120px"}},[a("el-form-item",{attrs:{label:"收货人姓名："}},[t._v(t._s(t.orderData.address.contact))]),a("el-form-item",{attrs:{label:"收货人手机号："}},[t._v(t._s(t.orderData.address.mobile))]),a("el-form-item",{attrs:{label:"收货人地址："}},[t._v(t._s(t.orderData.delivery_address))])],1)],1):t._e(),1==t.flag?a("div",{staticClass:"m-t-30"},[a("div",{staticClass:"nr weight-500 m-b-20"},[t._v("物流配送")]),a("div",{staticClass:"flex"},[a("el-form",{ref:"form",attrs:{size:"small",model:t.form,"label-width":"80px"}},[1==t.form.send_type?a("el-form-item",{attrs:{label:"物流公司"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择"},model:{value:t.form.express_id,callback:function(e){t.$set(t.form,"express_id",e)},expression:"form.express_id"}},t._l(t.orderData.express,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),1==t.form.send_type?a("el-form-item",{attrs:{label:"快递单号"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入快递单号"},model:{value:t.form.invoice_no,callback:function(e){t.$set(t.form,"invoice_no",e)},expression:"form.invoice_no"}})],1):t._e()],1)],1)]):t._e(),0==t.flag?a("div",{staticClass:"m-t-30"},[a("div",{staticClass:"nr weight-500 m-b-20"},[t._v("物流信息")]),a("div",{staticClass:"flex"},[a("div",{staticClass:"m-r-24"},[t._v("发货时间： "+t._s(t.orderData.express_time))]),a("div",{staticClass:"m-r-24"},[t._v("物流公司： "+t._s(t.orderData.express_name||"无"))]),a("div",{staticClass:"m-r-24"},[t._v("物流单号 "+t._s(t.orderData.invoice_no||"无"))])])]):t._e(),0==t.flag?a("div",{staticClass:"m-t-30"},[a("div",{staticClass:"nr weight-500 m-b-20"},[t._v("物流轨迹")]),1==t.orderData.send_type?a("div",[a("el-table",{ref:"paneTable",staticStyle:{width:"100%"},attrs:{data:t.orderData.traces,size:"mini"}},[a("el-table-column",{attrs:{label:"日期",prop:"0","min-width":"205"}}),a("el-table-column",{attrs:{label:"轨迹",prop:"1","min-width":"405"}})],1)],1):a("div",{staticClass:"nr weight-500 m-t-60 flex row-center"},[t._v("无需物流")])]):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleEvent("cancel")}}},[t._v("取消")]),1==t.flag?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleEvent("confirm")}}},[t._v("发货")]):a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleEvent("cancel")}}},[t._v("确认")])],1)])],1)}),[],!1,null,null,null);e.a=d.exports},"5cf7":function(t,e,a){"use strict";var r=a("9ab4"),s=a("0463"),l=a("1b40");let i=class extends l.e{constructor(){super(...arguments),this.options=s.a}get areaValue(){return[this.province,this.city,this.district]}set areaValue(t){this.$emit("update:province",t[0]),this.$emit("update:city",t[1]),this.$emit("update:district",t[2])}};Object(r.a)([Object(l.c)()],i.prototype,"province",void 0),Object(r.a)([Object(l.c)()],i.prototype,"city",void 0),Object(r.a)([Object(l.c)()],i.prototype,"district",void 0),Object(r.a)([Object(l.c)({default:"380px"})],i.prototype,"width",void 0),i=Object(r.a)([l.a],i);var o=i,n=a("2877"),d=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"area-select"},[a("el-cascader",{style:{width:t.width},attrs:{options:t.options},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}})],1)}),[],!1,null,null,null);e.a=d.exports},"7a98":function(t,e,a){"use strict";a("99b9")},"8c06":function(t,e,a){t.exports={primary:"#4073fa",white:"#fff",asideMenuWidth:"150px",headerHeight:"64px"}},"92f3":function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"g",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"j",(function(){return n})),a.d(e,"f",(function(){return d})),a.d(e,"m",(function(){return c})),a.d(e,"l",(function(){return m})),a.d(e,"k",(function(){return _})),a.d(e,"e",(function(){return f})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return v})),a.d(e,"i",(function(){return p}));var r=a("f175");const s=t=>r.a.get("/integral.integral_goods/lists",{params:t}),l=t=>r.a.post("/integral.integral_goods/add",t),i=t=>r.a.post("/integral.integral_goods/edit",t),o=t=>r.a.post("/integral.integral_goods/del",t),n=t=>r.a.post("/integral.integral_goods/status",t),d=t=>r.a.get("/integral.integral_goods/detail",{params:t}),c=t=>r.a.get("/integral.integral_order/lists",{params:t}),m=t=>r.a.get("/integral.integral_order/detail",{params:t}),_=t=>r.a.get("/integral.integral_order/deliveryInfo",{params:t}),f=t=>r.a.post("/integral.integral_order/delivery",t),u=t=>r.a.post("/integral.integral_order/confirm",t),v=t=>r.a.post("/integral.integral_order/cancel",t),p=t=>r.a.get("/integral.integral_order/logistics",{params:t})},"99b9":function(t,e,a){},d1c1:function(t,e,a){"use strict";a("8c06")}}]);