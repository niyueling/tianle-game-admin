(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c34b48f"],{"14c6":function(t,e,s){"use strict";s.d(e,"n",(function(){return r})),s.d(e,"x",(function(){return a})),s.d(e,"y",(function(){return i})),s.d(e,"u",(function(){return n})),s.d(e,"C",(function(){return l})),s.d(e,"v",(function(){return d})),s.d(e,"B",(function(){return c})),s.d(e,"w",(function(){return u})),s.d(e,"z",(function(){return p})),s.d(e,"A",(function(){return m})),s.d(e,"a",(function(){return g})),s.d(e,"e",(function(){return f})),s.d(e,"f",(function(){return h})),s.d(e,"b",(function(){return v})),s.d(e,"c",(function(){return b})),s.d(e,"d",(function(){return _})),s.d(e,"E",(function(){return y})),s.d(e,"H",(function(){return C})),s.d(e,"F",(function(){return k})),s.d(e,"G",(function(){return w})),s.d(e,"D",(function(){return x})),s.d(e,"L",(function(){return $})),s.d(e,"I",(function(){return L})),s.d(e,"J",(function(){return R})),s.d(e,"K",(function(){return z})),s.d(e,"g",(function(){return O})),s.d(e,"l",(function(){return S})),s.d(e,"h",(function(){return j})),s.d(e,"m",(function(){return G})),s.d(e,"i",(function(){return T})),s.d(e,"k",(function(){return q})),s.d(e,"j",(function(){return E})),s.d(e,"M",(function(){return A})),s.d(e,"P",(function(){return J})),s.d(e,"N",(function(){return D})),s.d(e,"O",(function(){return M})),s.d(e,"r",(function(){return N})),s.d(e,"q",(function(){return P})),s.d(e,"s",(function(){return B})),s.d(e,"t",(function(){return F})),s.d(e,"p",(function(){return H})),s.d(e,"o",(function(){return I}));var o=s("f175");const r=t=>o.a.post("/goods.goods/add",t),a=t=>o.a.post("/goods.goods/edit",t),i=t=>o.a.get("/goods.goods/lists",{params:t}),n=t=>o.a.get("/goods.goods/commonLists",{params:t}),l=t=>o.a.post("/goods.goods/status",t),d=t=>o.a.post("/goods.goods/del",t),c=t=>o.a.post("/goods.goods/sort",t),u=t=>o.a.get("/goods.goods/detail",{params:{id:t}}),p=t=>o.a.get("/goods.goods/otherList",{params:t}),m=t=>o.a.post("goods.goods/rename ",t),g=t=>o.a.post("/goods.goods_brand/add",t),f=t=>o.a.get("/goods.goods_brand/lists",{params:t}),h=t=>o.a.post("/goods.goods_brand/status",t),v=t=>o.a.post("/goods.goods_brand/del",t),b=t=>o.a.get("/goods.goods_brand/detail",{params:{id:t}}),_=t=>o.a.post("/goods.goods_brand/edit",t),y=t=>o.a.post("/goods.goods_supplier_category/add",t),C=t=>o.a.get("goods.goods_supplier_category/lists",{params:t}),k=t=>o.a.post("goods.goods_supplier_category/del",{id:t}),w=t=>o.a.post("goods.goods_supplier_category/edit",t),x=t=>o.a.post("/goods.goods_supplier/add",t),$=t=>o.a.get("/goods.goods_supplier/lists",{params:t}),L=t=>o.a.post("goods.goods_supplier/del",{id:t}),R=t=>o.a.get("/goods.goods_supplier/detail",{params:{id:t}}),z=t=>o.a.post("/goods.goods_supplier/edit",t),O=t=>o.a.post("/goods.goods_category/add",t),S=t=>o.a.get("/goods.goods_category/lists",{params:t}),j=t=>o.a.get("/goods.goods_category/commonLists",{params:t}),G=t=>o.a.post("/goods.goods_category/status",t),T=t=>o.a.post("goods.goods_category/del",{id:t}),q=t=>o.a.post("/goods.goods_category/edit",t),E=t=>o.a.get("/goods.goods_category/detail",{params:{id:t}}),A=t=>o.a.post("/goods.goods_unit/add",t),J=t=>o.a.get("/goods.goods_unit/lists",{params:t}),D=t=>o.a.post("goods.goods_unit/del",{id:t}),M=t=>o.a.post("/goods.goods_unit/edit",t),N=t=>o.a.get("goods.goods_comment/lists",{params:t}),P=t=>o.a.post("goods.goods_comment/del",t),B=t=>o.a.post("goods.goods_comment/reply",t),F=t=>o.a.post("/goods.goods_comment/status",t),H=t=>o.a.get("goods.goods_comment_assistant/lists",{params:t}),I=t=>o.a.post("goods.goods_comment_assistant/add",t)},"308b":function(t,e,s){"use strict";s.d(e,"f",(function(){return r})),s.d(e,"d",(function(){return a})),s.d(e,"e",(function(){return i})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return l})),s.d(e,"b",(function(){return d}));var o=s("f175");const r=t=>o.a.get("/live.LiveRoom/lists",{params:t}),a=t=>o.a.post("/live.LiveRoom/add",t),i=t=>o.a.post("/live.LiveRoom/del",t),n=t=>o.a.get("/live.LiveGoods/lists",{params:t}),l=t=>o.a.post("/live.LiveGoods/add",t),d=t=>o.a.post("/live.LiveGoods/del",t)},5032:function(t,e,s){"use strict";s("9955")},9955:function(t,e,s){},f931:function(t,e,s){"use strict";s.r(e);var o=s("9ab4"),r=s("1b40"),a=s("4201"),i=s("b3ad"),n=s("14c6"),l=s("6ddb"),d=s("3c50");let c=class extends r.e{constructor(){super(...arguments),this.visible=!1,this.form={keyword:""},this.pager=new l.a,this.currentRow={}}onTrigger(){this.getList(),this.visible=!0}close(){this.visible=!1,this.form.keyword=""}onSubmit(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择商品"):(this.$emit("getGoods",this.currentRow),void(this.visible=!1))}getList(){this.pager.request({callback:n.y,params:{...this.form}}).then(t=>{})}onReset(){this.form.keyword="",this.getList()}handleCurrentChange(t){this.currentRow=t}};Object(o.a)([Object(r.c)({default:"选择商品"})],c.prototype,"title",void 0),Object(o.a)([Object(r.c)({default:"880px"})],c.prototype,"width",void 0),Object(o.a)([Object(r.c)({default:"10vh"})],c.prototype,"top",void 0),c=Object(o.a)([Object(r.a)({components:{LsPagination:d.a}})],c);var u=c,p=s("2877"),m=Object(p.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:t.onTrigger}},[t._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:t.title,visible:t.visible,width:t.width,top:t.top,"modal-append-to-body":!1,center:"","before-close":t.close,"close-on-click-modal":!1,"append-to-body":!0}},[s("div",{},[s("el-form",{staticClass:"ls-form",attrs:{inline:"",model:t.form,"label-width":"70px",size:"small"}},[s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.form.keyword,callback:function(e){t.$set(t.form,"keyword",e)},expression:"form.keyword"}})],1),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.getList}},[t._v("查询")]),s("el-button",{attrs:{size:"small"},on:{click:t.onReset}},[t._v("重置")])],1),s("div",{staticClass:"list-table m-t-16"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:t.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[s("el-table-column",{attrs:{prop:"",label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex"},[s("div",{staticStyle:{"min-width":"40px","min-height":"40px"}},[s("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:e.row.image}})],1),s("div",{staticClass:"m-l-10"},[t._v(" "+t._s(e.row.name)+" ")])])]}}])}),s("el-table-column",{attrs:{prop:"price",label:"价格"}}),s("el-table-column",{attrs:{prop:"total_stock",label:"库存"}})],1)],1),s("div",{staticClass:"flex row-right m-t-16 row-right"},[s("ls-pagination",{on:{change:function(e){return t.getList()}},model:{value:t.pager,callback:function(e){t.pager=e},expression:"pager"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("确认")])],1)])],1)}),[],!1,null,"b514511c",null).exports,g=s("308b"),f=s("d70b");let h=class extends r.e{constructor(){super(...arguments),this.action=f.a.baseURL+"/adminapi/upload/wechatMaterial",this.version=f.a.version,this.ishide=!1,this.mode=a.f.ADD,this.goodsType="1",this.form={name:"",image:"",price_type:1,price:0,price2:0,url:""},this.allPrice={},this.formRules={name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],image:[{required:!0,message:"请选择图片",trigger:"blur"}],url:[{required:!0,message:"请输入商品链接",trigger:"change"}],price_type:[{required:!0,message:"请选择价格类型",trigger:"change"}]},this.selecGoods={}}getGoods(t){null!=t&&(this.selecGoods=t,this.form.url="pages/goods_detail/goods_detail?id="+t.id,this.form.name=t.name,this.form.price=t.min_price)}onSubmit(){this.$refs.formRef.validate(t=>{t&&this.liveGoodsAdd()})}liveGoodsAdd(){Object(g.a)(this.form).then(t=>{setTimeout(()=>this.$router.go(-1),500)}).catch(t=>{})}handleRemove(t,e){this.ishide=!1}handleSuccess(t,e,s){this.form.image=t.data.media_id,this.ishide=!0}handleError(t,e){this.$message.error(e.name+"文件上传失败")}handleExceed(){this.$message.error("超出上传上限，请重新上传")}created(){this.onSubmit=Object(l.h)(this.onSubmit,1e3)}};h=Object(o.a)([Object(r.a)({components:{MaterialSelect:i.a,LsGoodsSelect:m}})],h);var v=h,b=(s("5032"),Object(p.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-broadcast-goods"},[s("div",{staticClass:"ls-card"},[s("el-page-header",{attrs:{content:"add"===t.mode?"添加直播商品":""},on:{back:function(e){return t.$router.go(-1)}}})],1),s("el-form",{ref:"formRef",attrs:{rules:t.formRules,model:t.form,"label-width":"120px",size:"small"}},[s("div",{staticClass:"ls-card m-t-16"},[s("div",{staticClass:"card-content m-t-24"},[s("el-form-item",{attrs:{label:"产品来源",prop:"",required:""}},[s("el-select",{attrs:{placeholder:"请选择产品来源"},model:{value:t.goodsType,callback:function(e){t.goodsType=e},expression:"goodsType"}},[s("el-option",{attrs:{label:"商品库",value:"1"}}),s("el-option",{attrs:{label:"自定义",value:"2"}})],1),"1"==t.goodsType?s("div",{staticClass:"m-t-16"},[s("ls-goods-select",{attrs:{title:"选择商品"},on:{getGoods:t.getGoods}},[s("el-button",{attrs:{slot:"trigger",type:"primary",size:"small"},slot:"trigger"},[t._v("选择商品")])],1)],1):t._e()],1),s("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"商品封面",prop:"image"}},[s("el-upload",{class:t.ishide?"hide":"",attrs:{action:t.action,headers:{token:t.$store.getters.token,version:t.version},"list-type":"picture-card",limit:1,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-error":t.handleError}},[s("i",{staticClass:"el-icon-plus"})]),s("div",{staticClass:"muted xs m-r-16"},[t._v(" 建议尺寸：200像素 * 200像素，图片尺寸不能超过300像素 * 300像素。 ")])],1),s("el-form-item",{attrs:{label:"价格形式",prop:"price_type"}},[s("div",{},[s("el-radio",{attrs:{label:1},model:{value:t.form.price_type,callback:function(e){t.$set(t.form,"price_type",e)},expression:"form.price_type"}},[s("span",{staticClass:"m-r-30 first-desc"},[t._v("一口价")]),s("span",{staticClass:"m-r-5"},[t._v("价格")]),s("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}),s("span",{staticClass:"m-l-5"},[t._v("元")])],1)],1),s("div",{staticClass:"m-t-16"},[s("el-radio",{attrs:{label:2},model:{value:t.form.price_type,callback:function(e){t.$set(t.form,"price_type",e)},expression:"form.price_type"}},[s("span",{staticClass:"m-r-20 first-desc"},[t._v("价格区间")]),s("span",{staticClass:"m-r-5"},[t._v("价格")]),s("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}),s("span",{staticClass:"m-l-5"},[t._v("元")]),s("span",{staticClass:"m-l-5 m-r-5"},[t._v("-")]),s("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.price2,callback:function(e){t.$set(t.form,"price2",e)},expression:"form.price2"}}),s("span",{staticClass:"m-l-5"},[t._v("元")])],1)],1),s("div",{staticClass:"m-t-16"},[s("el-radio",{attrs:{label:3},model:{value:t.form.price_type,callback:function(e){t.$set(t.form,"price_type",e)},expression:"form.price_type"}},[s("span",{staticClass:"m-r-10 first-desc"},[t._v("显示折扣价")]),s("span",{staticClass:"m-r-5"},[t._v("原价")]),s("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}),s("span",{staticClass:"m-l-5"},[t._v("元")]),s("span",{staticClass:"m-l-5 m-r-5"},[t._v("现价")]),s("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.price2,callback:function(e){t.$set(t.form,"price2",e)},expression:"form.price2"}}),s("span",{staticClass:"m-l-5"},[t._v("元")])],1)],1)]),s("el-form-item",{attrs:{label:"商品链接",prop:"url"}},[s("el-input",{attrs:{placeholder:"请输入商品链接"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),s("div",{staticClass:"muted xs m-r-16"},[t._v(" 请确保小程序页面路径可被访问，例如：pages/goods_detail/goods_detail?id=goods_id ")])],1)],1)])]),s("div",{staticClass:"bg-white ls-fixed-footer"},[s("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmit()}}},[t._v("保存")])],1)])],1)}),[],!1,null,"80e88c1a",null));e.default=b.exports}}]);