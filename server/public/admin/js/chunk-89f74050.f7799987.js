(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-89f74050"],{"2b8e":function(e,t,s){"use strict";s.d(t,"m",(function(){return a})),s.d(t,"n",(function(){return i})),s.d(t,"a",(function(){return n})),s.d(t,"d",(function(){return l})),s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return c})),s.d(t,"e",(function(){return p})),s.d(t,"k",(function(){return d})),s.d(t,"l",(function(){return u})),s.d(t,"f",(function(){return f})),s.d(t,"i",(function(){return m})),s.d(t,"j",(function(){return g})),s.d(t,"h",(function(){return h})),s.d(t,"g",(function(){return _}));var r=s("f175");const a=()=>r.a.get("settings.delivery.delivery_way/getConfig"),i=e=>r.a.post("settings.delivery.delivery_way/setConfig",e),n=e=>r.a.post("/settings.delivery.express/add",e),l=e=>r.a.post("/settings.delivery.express/edit",e),o=e=>r.a.post("/settings.delivery.express/del",e),c=e=>r.a.get("/settings.delivery.express/detail",{params:e}),p=e=>r.a.get("/settings.delivery.express/lists",{params:e}),d=()=>r.a.get("settings.delivery.logistics_config/getLogisticsConfig"),u=e=>r.a.post("settings.delivery.logistics_config/setLogisticsConfig",e),f=e=>r.a.post("settings.delivery.freight/add",e),m=e=>r.a.post("settings.delivery.freight/edit",e),g=e=>r.a.get("settings.delivery.freight/lists",{params:e}),h=e=>r.a.get("settings.delivery.freight/detail",{params:e}),_=e=>r.a.post("settings.delivery.freight/del",e)},"33d9":function(e,t,s){},5710:function(e,t,s){"use strict";s("33d9")},9240:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"n",(function(){return i})),s.d(t,"b",(function(){return n})),s.d(t,"o",(function(){return l})),s.d(t,"i",(function(){return o})),s.d(t,"k",(function(){return c})),s.d(t,"l",(function(){return p})),s.d(t,"j",(function(){return d})),s.d(t,"m",(function(){return u})),s.d(t,"d",(function(){return f})),s.d(t,"f",(function(){return m})),s.d(t,"g",(function(){return g})),s.d(t,"e",(function(){return h})),s.d(t,"h",(function(){return _})),s.d(t,"c",(function(){return y}));var r=s("f175");const a=e=>r.a.get("/express_assistant.face_sheet_setting/getFaceSheetType",{params:e}),i=e=>r.a.get("/express_assistant.face_sheet_setting/getConfig",{params:e}),n=e=>r.a.post("/express_assistant.face_sheet_setting/setConfig",e),l=e=>r.a.get("/express_assistant.face_sheet_template/getFaceSheetPayment",{params:e}),o=e=>r.a.post("/express_assistant.face_sheet_template/add",e),c=e=>r.a.get("/express_assistant.face_sheet_template/detail",{params:e}),p=e=>r.a.post("/express_assistant.face_sheet_template/edit",e),d=e=>r.a.post("/express_assistant.face_sheet_template/delete",e),u=e=>r.a.get("/express_assistant.face_sheet_template/lists",{params:e}),f=e=>r.a.post("/express_assistant.face_sheet_sender/add",e),m=e=>r.a.get("/express_assistant.face_sheet_sender/detail",{params:e}),g=e=>r.a.post("/express_assistant.face_sheet_sender/edit",e),h=e=>r.a.post("/express_assistant.face_sheet_sender/delete",e),_=e=>r.a.get("/express_assistant.face_sheet_sender/lists",{params:e}),y=e=>r.a.post("/express_assistant.face_sheet_order/print",e)},d1b2:function(e,t,s){"use strict";s.r(t);var r=s("9ab4"),a=s("1b40"),i=s("9240"),n=s("2b8e");let l=class extends a.e{constructor(){super(...arguments),this.identity=1,this.status="",this.freightPayment=[],this.expressData=[],this.form={name:"",template_id:"",express_id:"",partner_id:"",partner_key:"",net:"",pay_type:""},this.rules={name:[{required:!0,message:"请输入模版名称",trigger:"blur"}],template_id:[{required:!0,message:"请输入模版编号",trigger:"blur"}],express_id:[{required:!0,message:"请选择快递公司",trigger:"change"}],net:[{required:!0,message:"请输入收件网点标示",trigger:"blur"}],pay_type:[{required:!0,message:"请选择运费支付方式",trigger:"change"}]}}async getFaceSheetDetail(){const e=await Object(i.k)({id:this.identity});this.form=e}getFreightPaymentFunc(){Object(i.o)({}).then(e=>{this.freightPayment=e}).catch(()=>{this.$message.error("数据初始化失败，请刷新重载！")})}getExpressDataFunc(){Object(n.e)({}).then(e=>{this.expressData=e.lists}).catch(()=>{this.$message.error("数据初始化失败，请刷新重载！")})}onSubmit(e){this.$refs[e].validate(e=>{e&&(this.identity?this.handleFaceSheetEdit():this.handleFaceSheetAdd())})}handleFaceSheetAdd(){const e=this.form;Object(i.i)({...e}).then(()=>{setTimeout(()=>this.$router.go(-1),500)})}handleFaceSheetEdit(){const e=this.form,t=this.identity;Object(i.l)({...e,id:t}).then(()=>{setTimeout(()=>this.$router.go(-1),500)})}newExpress(){const e=this.$router.resolve("/setting/delivery/express");window.open(e.href,"_blank")}created(){const e=this.$route.query;this.identity=e.id,this.getFreightPaymentFunc(),this.getExpressDataFunc(),this.identity&&this.getFaceSheetDetail()}};l=Object(r.a)([a.a],l);var o=l,c=(s("5710"),s("2877")),p=Object(c.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-card"},[s("el-page-header",{attrs:{content:e.identity?"编辑电子面单模版":"新增电子面单模版"},on:{back:function(t){return e.$router.go(-1)}}})],1),s("div",{staticClass:"ls-card m-t-24 m-b-60"},[s("el-form",{ref:"form",staticClass:"m-l-24",attrs:{"hide-required-asterisk":!1,rules:e.rules,model:e.form,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"模版名称",prop:"name","label-position":"right"}},[s("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入模版名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"模版编号",prop:"template_id","label-position":"right"}},[s("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入模版编号"},model:{value:e.form.template_id,callback:function(t){e.$set(e.form,"template_id",t)},expression:"form.template_id"}})],1),s("el-form-item",{attrs:{label:"快递公司",prop:"express_id","label-position":"right"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.express_id,callback:function(t){e.$set(e.form,"express_id",t)},expression:"form.express_id"}},e._l(e.expressData,(function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),s("span",{staticClass:"m-l-20 primary pointer",on:{click:e.newExpress}},[e._v("新建快递公司")]),s("span",{staticClass:"primary m-l-10 m-r-10"},[e._v("|")]),s("span",{staticClass:"primary pointer",on:{click:e.getExpressDataFunc}},[e._v("刷新")])],1),s("el-form-item",{attrs:{prop:"partner_id",label:"电子面单客户账号","label-position":"right"}},[s("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入电子面单客户账号"},model:{value:e.form.partner_id,callback:function(t){e.$set(e.form,"partner_id",t)},expression:"form.partner_id"}})],1),s("el-form-item",{attrs:{label:"电子面单密码",prop:"partner_key","label-position":"right"}},[s("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入电子面单密码"},model:{value:e.form.partner_key,callback:function(t){e.$set(e.form,"partner_key",t)},expression:"form.partner_key"}})],1),s("el-form-item",{attrs:{label:"收件网点标示",prop:"net","label-position":"right"}},[s("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入收件网点标示"},model:{value:e.form.net,callback:function(t){e.$set(e.form,"net",t)},expression:"form.net"}})],1),s("el-form-item",{attrs:{label:"运费支付方式",prop:"pay_type","label-position":"right"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.pay_type,callback:function(t){e.$set(e.form,"pay_type",t)},expression:"form.pay_type"}},e._l(e.freightPayment,(function(e,t){return s("el-option",{key:t,attrs:{label:e.value,value:e.key}})})),1)],1)],1)],1),s("div",{staticClass:"bg-white ls-fixed-footer"},[s("div",{staticClass:"row-center flex m-t-15"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)])])}),[],!1,null,"37c8a74a",null);t.default=p.exports}}]);