(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-30a20227"],{"0c62":function(t,s,e){"use strict";e("640f")},"640f":function(t,s,e){},"7b7e":function(t,s,e){"use strict";e.d(s,"b",(function(){return l})),e.d(s,"e",(function(){return a})),e.d(s,"g",(function(){return n})),e.d(s,"a",(function(){return r})),e.d(s,"d",(function(){return o})),e.d(s,"c",(function(){return d})),e.d(s,"f",(function(){return c}));var i=e("f175");const l=()=>i.a.post("/sign.sign/dataCenter"),a=t=>i.a.get("/sign.sign/getConfig",{params:t}),n=t=>i.a.post("/sign.sign/setConfig",t),r=t=>i.a.post("/sign.sign/add",t),o=t=>i.a.post("/sign.sign/edit",t),d=t=>i.a.post("/sign.sign/delete",t),c=t=>i.a.get("/sign.sign/lists",{params:t})},c81a:function(t,s,e){"use strict";e.r(s);var i=e("9ab4"),l=e("1b40"),a=e("0a6d"),n=e("7b7e");let r=class extends l.e{constructor(){super(...arguments),this.list={is_open:1,daily:{integral_status:!1,integral:""},continuous:[],remark:""},this.signAdd={days:"",integral_status:"0",integral:""}}addRule(){Object(n.a)({...this.signAdd}).then(t=>{this.detail()})}setting(t){this.signAdd.days=t.days,this.signAdd.integral_status=t.integral_status,this.signAdd.integral=t.integral}editRule(t){Object(n.d)({...t}).then(t=>{this.detail()})}delRule(t){Object(n.c)({id:t.id}).then(t=>{this.detail()})}onSubmit(){this.list.daily.integral_status=this.list.daily.integral_status?1:0,Object(n.g)({...this.list}).then(()=>{this.detail()}).catch(()=>{})}detail(){Object(n.e)({}).then(t=>{this.list=t}).catch(()=>{})}created(){this.detail()}get status(){return 1==this.list.daily.integral_status}set status(t){this.list.daily.integral_status=t}};r=Object(i.a)([Object(l.a)({components:{lsDialog:a.a}})],r);var o=r,d=(e("0c62"),e("2877")),c=Object(d.a)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ls-add-admin"},[e("div",{staticClass:"ls-card ls-coupon-edit__form"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("签到设置")]),e("el-form",{ref:"list",attrs:{model:t.list,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"应用状态"}},[e("el-radio",{attrs:{label:0},model:{value:t.list.is_open,callback:function(s){t.$set(t.list,"is_open",s)},expression:"list.is_open"}},[t._v("关闭")]),e("el-radio",{attrs:{label:1},model:{value:t.list.is_open,callback:function(s){t.$set(t.list,"is_open",s)},expression:"list.is_open"}},[t._v("开启")]),e("span",{staticClass:"desc"},[t._v("关闭或开启积分签到功能，关闭后商城的积分签到处于未开启状态")])],1)],1)],1),e("div",{staticClass:"ls-card ls-coupon-edit__form m-t-16"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("签到规则")]),e("el-form",{attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"每天签到奖励"}},[e("el-checkbox",{model:{value:t.status,callback:function(s){t.status=s},expression:"status"}},[t._v("积分")]),e("el-input",{model:{value:t.list.daily.integral,callback:function(s){t.$set(t.list.daily,"integral",s)},expression:"list.daily.integral"}})],1),e("el-form-item",{attrs:{label:"连续签到奖励"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.continuous,size:"mini"}},[e("el-table-column",{attrs:{prop:"days","min-width":"150",label:"连续天数"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.days)+" 天 ")]}}])}),e("el-table-column",{attrs:{"min-width":"250",prop:"integral",label:"连续奖励"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.integral)+" 积分 ")]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(s){return s.row.days>=2?[e("div",{staticClass:"flex"},[e("ls-dialog",{staticClass:"inline flex row-center m-r-24",attrs:{width:"35vw"},on:{confirm:function(e){return t.editRule(s.row)}}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},on:{click:function(e){return t.setting(s.row)}},slot:"trigger"},[t._v("编辑")]),e("div",{staticClass:"flex row-center"},[e("el-form",{ref:"address",attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"连续签到天数",prop:"return_district"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:s.row.days,callback:function(e){t.$set(s.row,"days",e)},expression:"scope.row.days"}})],1),e("el-form-item",{attrs:{label:"连续积分状态",prop:"return_district"}},[e("el-radio",{attrs:{label:0},model:{value:s.row.integral_status,callback:function(e){t.$set(s.row,"integral_status",e)},expression:"scope.row.integral_status"}},[t._v("关闭")]),e("el-radio",{attrs:{label:1},model:{value:s.row.integral_status,callback:function(e){t.$set(s.row,"integral_status",e)},expression:"scope.row.integral_status"}},[t._v("开启")])],1),e("el-form-item",{attrs:{label:"赠送积分数量",prop:"return_address"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:s.row.integral,callback:function(e){t.$set(s.row,"integral",e)},expression:"scope.row.integral"}})],1)],1)],1)],1),e("ls-dialog",{staticClass:"inline flex row-center m-r-24",attrs:{content:"确认删除这条连续签到奖励吗？",width:"30vw"},on:{confirm:function(e){return t.delRule(s.row)}}},[e("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v("删除")])],1)],1)]:void 0}}],null,!0)})],1),e("ls-dialog",{staticClass:"inline flex row-center m-l-24",attrs:{width:"40vw"},on:{confirm:function(s){return t.addRule()}}},[e("div",{staticClass:"add-btn flex m-t-24 row-center",attrs:{slot:"trigger"},on:{click:function(s){t.signAdd.days="",t.signAdd.integral="",t.signAdd.integral_status=1}},slot:"trigger"},[t._v(" 添加连续签到奖励 ")]),e("div",{staticClass:"flex row-center"},[e("el-form",{ref:"address",attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"连续签到天数",prop:"return_district"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.signAdd.days,callback:function(s){t.$set(t.signAdd,"days",s)},expression:"signAdd.days"}})],1),e("el-form-item",{attrs:{label:"连续积分状态",prop:"return_district"}},[e("el-radio",{attrs:{label:0},model:{value:t.signAdd.integral_status,callback:function(s){t.$set(t.signAdd,"integral_status",s)},expression:"signAdd.integral_status"}},[t._v("关闭")]),e("el-radio",{attrs:{label:1},model:{value:t.signAdd.integral_status,callback:function(s){t.$set(t.signAdd,"integral_status",s)},expression:"signAdd.integral_status"}},[t._v("开启")])],1),e("el-form-item",{attrs:{label:"赠送积分数量",prop:"return_address"}},[e("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":""},model:{value:t.signAdd.integral,callback:function(s){t.$set(t.signAdd,"integral",s)},expression:"signAdd.integral"}})],1)],1)],1)])],1),e("el-form-item",{attrs:{label:"每天签到奖励"}},[e("el-input",{staticClass:"m-t-10",attrs:{type:"textarea",rows:10,placeholder:"请输入内容"},model:{value:t.list.remark,callback:function(s){t.$set(t.list,"remark",s)},expression:"list.remark"}})],1)],1)],1),e("div",{staticClass:"bg-white flex row-center ls-fixed-footer"},[e("div",{staticClass:"row-center flex"},[e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.$router.go(-1)}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){return t.onSubmit("form")}}},[t._v("保存")])],1)])])}),[],!1,null,"148658d5",null);s.default=c.exports}}]);