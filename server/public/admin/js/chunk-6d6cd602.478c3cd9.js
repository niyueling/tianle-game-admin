(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6d6cd602"],{"84e3":function(t,s,e){"use strict";e("abbd")},abbd:function(t,s,e){},dfab:function(t,s,e){"use strict";e.r(s);var a=e("9ab4"),i=e("1b40"),l=e("b3ad"),o=e("f175");var r=e("6ddb");let n=class extends i.e{constructor(){super(...arguments),this.form={name:"",original_id:"",qr_code:"",app_id:"",app_secret:"",request_domain:"",socket_domain:"",upload_file_domain:"",download_file_domain:"",udp_domain:"",tcp_domain:"",business_domain:"",url:"",token:"",encoding_aes_key:"",encryption_type:1,data_format:1},this.formRules={app_id:[{required:!0,message:"必填项不能为空",trigger:"blur"}],app_secret:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}}getWechatAppSetting(){o.a.get("/wechat.mini_program_setting/getConfig").then(t=>{this.form=t}).catch(()=>{})}putWechatAppSetting(){this.$refs.formRef.validate(t=>{if(!t)return this.$message.error("请完善信息");var s;(s=this.form,o.a.post("/wechat.mini_program_setting/setConfig",s)).then(t=>{this.getWechatAppSetting()}).catch(()=>{})})}onCopy(t){Object(r.b)(t).then(()=>{this.$message.success("复制成功")}).catch(t=>{this.$message.error("复制失败")})}created(){this.getWechatAppSetting()}};n=Object(a.a)([Object(i.a)({components:{MaterialSelect:l.a}})],n);var m=n,c=(e("84e3"),e("2877")),d=Object(c.a)(m,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wechat_app"},[e("div",{staticClass:"ls-card"},[e("el-alert",{attrs:{title:"温馨提示：请先前往微信小程序后台申请认证微信小程序。",type:"info",closable:!1,"show-icon":""}})],1),e("el-form",{ref:"formRef",attrs:{model:t.form,rules:t.formRules,"label-width":"140px",size:"small"}},[e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("微信小程序")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"小程序名称"}},[e("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"原始ID"}},[e("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.original_id,callback:function(s){t.$set(t.form,"original_id",s)},expression:"form.original_id"}})],1),e("el-form-item",{attrs:{label:"小程序码"}},[e("material-select",{attrs:{limit:1},model:{value:t.form.qr_code,callback:function(s){t.$set(t.form,"qr_code",s)},expression:"form.qr_code"}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"muted xs m-r-16"},[t._v("建议尺寸：400*400像素，支持jpg，jpeg，png格式")])])],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("开发者ID")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"AppID",prop:"app_id"}},[e("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.app_id,callback:function(s){t.$set(t.form,"app_id",s)},expression:"form.app_id"}})],1),e("el-form-item",{attrs:{label:"AppSecret",prop:"app_secret"}},[e("el-input",{staticClass:"ls-input",attrs:{size:"small"},model:{value:t.form.app_secret,callback:function(s){t.$set(t.form,"app_secret",s)},expression:"form.app_secret"}}),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ")])],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("服务器域名")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"request合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.request_domain,callback:function(s){t.$set(t.form,"request_domain",s)},expression:"form.request_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.request_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ")])],1),e("el-form-item",{attrs:{label:"socket合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.socket_domain,callback:function(s){t.$set(t.form,"socket_domain",s)},expression:"form.socket_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.socket_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写wss协议域名 ")])],1),e("el-form-item",{attrs:{label:"uploadFile合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.upload_file_domain,callback:function(s){t.$set(t.form,"upload_file_domain",s)},expression:"form.upload_file_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.upload_file_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ")])],1),e("el-form-item",{attrs:{label:"downloadFile合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.download_file_domain,callback:function(s){t.$set(t.form,"download_file_domain",s)},expression:"form.download_file_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.download_file_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ")])],1),e("el-form-item",{attrs:{label:"udp合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.udp_domain,callback:function(s){t.$set(t.form,"udp_domain",s)},expression:"form.udp_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.udp_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写udp协议域名 ")])],1),e("el-form-item",{attrs:{label:"tpc合法域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.tcp_domain,callback:function(s){t.$set(t.form,"tcp_domain",s)},expression:"form.tcp_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.tcp_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写tcp协议域名 ")])],1)],1)]),e("div",{staticClass:"ls-card m-t-16"},[e("div",{staticClass:"card-title"},[t._v("业务域名")]),e("div",{staticClass:"card-content m-t-24"},[e("el-form-item",{attrs:{label:"业务域名"}},[e("el-input",{staticClass:"ls-input m-r-10",attrs:{size:"small",disabled:""},model:{value:t.form.business_domain,callback:function(s){t.$set(t.form,"business_domain",s)},expression:"form.business_domain"}}),e("el-button",{attrs:{size:"small"},on:{click:function(s){return t.onCopy(t.form.business_domain)}}},[t._v("复制")]),e("div",{staticClass:"muted xs m-r-16"},[t._v(" 小程序账号登录微信公众平台，点击开发>开发设置->业务域名，填写业务域名 ")])],1)],1)])]),e("div",{staticClass:"bg-white ls-fixed-footer"},[e("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){return t.putWechatAppSetting()}}},[t._v("保存")])],1)])],1)}),[],!1,null,"5fc4aa55",null);s.default=d.exports}}]);