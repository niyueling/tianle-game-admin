(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-aace32ac"],{"86b8":function(e,t,s){"use strict";s("8f36")},"8f36":function(e,t,s){},9760:function(e,t,s){"use strict";s.r(t);var c=s("9ab4"),n=s("1b40"),o=s("4bb5");let i=class extends n.e{};Object(c.a)([Object(o.b)("config")],i.prototype,"config",void 0),i=Object(c.a)([n.a],i);var r=i,a=(s("ec17"),s("2877")),l=Object(a.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ls-footer"},[t("div",{staticClass:"flex-col col-center"},[t("div",{staticClass:"muted xs m-t-20"},[t("span",{staticClass:"m-r-10"},[this._v(this._s(this.config.copyright))]),t("a",{staticClass:"link muted",attrs:{href:this.config.record_system_link,target:"_blank"}},[this._v("备案号："+this._s(this.config.record_number))])])])])}),[],!1,null,"56b47ae2",null).exports,u=s("d80c");let d=class extends n.e{constructor(){super(...arguments),this.rememberAccount=!1,this.accountObj={account:"",password:""},this.rules={account:[{required:!0,message:"请输入账号",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]}]},this.loadingLogin=!1}get config(){return this.$store.getters.config}handleLogin(){this.$refs.form.validate(e=>{e&&(u.a.set("remember_account",{remember:this.rememberAccount,account:this.accountObj.account}),this.login())})}login(){this.loadingLogin=!0,this.$store.dispatch("login",this.accountObj).then(e=>{const{query:{redirect:t}}=this.$route,s="string"==typeof t?t:"/";this.$router.replace(s)}).finally(()=>{this.loadingLogin=!1})}created(){const e=u.a.get("remember_account");e.remember&&(this.rememberAccount=e.remember,this.accountObj.account=e.account)}};Object(c.a)([Object(o.a)("getPermission")],d.prototype,"getPermission",void 0),d=Object(c.a)([Object(n.a)({components:{LsFooter:l}})],d);var b=d,f=(s("86b8"),Object(a.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ls-login flex-col"},[s("div",{staticClass:"flex-1 ls-login__content flex col-center"},[s("div",{staticClass:"ls-content__body bg-white flex"},[s("div",{staticClass:"login-img",style:{"background-image":"url("+e.config.admin_login_image+")"}}),s("div",{staticClass:"form-wrap flex-col col-center row-center"},[s("div",{staticClass:"font-size-24 weight-500"},[e._v(e._s(e.config.name))]),s("div",{staticClass:"form m-t-40"},[s("el-form",{ref:"form",attrs:{model:e.accountObj,rules:e.rules}},[s("el-form-item",{attrs:{required:"",prop:"account"}},[s("el-input",{attrs:{placeholder:"请输入账号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.inputPwd.focus()}},model:{value:e.accountObj.account,callback:function(t){e.$set(e.accountObj,"account",t)},expression:"accountObj.account"}},[s("i",{staticClass:"el-input__icon el-icon-s-custom",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{required:"",prop:"password"}},[s("el-input",{ref:"inputPwd",attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.accountObj.password,callback:function(t){e.$set(e.accountObj,"password",t)},expression:"accountObj.password"}},[s("i",{staticClass:"el-input__icon el-icon-s-cooperation",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-checkbox",{attrs:{label:"记住账号"},model:{value:e.rememberAccount,callback:function(t){e.rememberAccount=t},expression:"rememberAccount"}}),s("el-button",{attrs:{type:"primary",loading:e.loadingLogin},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)])])]),s("ls-footer")],1)}),[],!1,null,"45259b97",null));t.default=f.exports},ba28:function(e,t,s){},ec17:function(e,t,s){"use strict";s("ba28")}}]);