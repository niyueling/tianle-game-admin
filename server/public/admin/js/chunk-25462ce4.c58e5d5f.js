(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-25462ce4"],{"2cd0":function(t,i,e){"use strict";e("6488")},"3aee":function(t,i,e){"use strict";e.r(i);var s=e("9ab4"),o=e("1b40"),n=e("4072");let r=class extends o.e{constructor(){super(...arguments),this.identity=null,this.roleList=[],this.flag=1,this.disabled=!1,this.form={name:"",weights:"",self_ratio:"",first_ratio:"",second_ratio:"",update_relation:1,update_condition:[{singleConsumptionAmount:""},{cumulativeConsumptionAmount:""},{cumulativeConsumptionTimes:""},{returnedCommission:""}],remark:""}}onSubmit(t){switch(this.mode){case"add":return this.GradeAdd();case"edit":return this.GradeEdit()}}GradeEdit(){this.form.update_condition=this.form.update_condition,Object(n.r)({...this.form}).then(()=>{this.$router.go(-1)})}GradeAdd(){Object(n.o)({...this.form}).then(()=>{this.$router.go(-1)})}detail(){Object(n.q)({id:this.id}).then(t=>{if(t.update_condition){const i=t.update_condition,e=[{singleConsumptionAmount:i.singleConsumptionAmount},{cumulativeConsumptionAmount:i.cumulativeConsumptionAmount},{cumulativeConsumptionTimes:i.cumulativeConsumptionTimes},{returnedCommission:i.returnedCommission}];t.update_condition=e}this.form=t}).catch(()=>{this.$message.error("数据获取失败!")})}created(){const t=this.$route.query;t.mode&&(this.mode=t.mode),t.flag&&(this.flag=t.flag),t.disabled&&(this.disabled=!0),"edit"===this.mode&&(this.id=t.id,this.detail())}};r=Object(s.a)([o.a],r);var a=r,d=(e("2cd0"),e("2877")),l=Object(d.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ls-add-admin"},[e("div",{staticClass:"ls-card"},[e("el-page-header",{attrs:{content:"edit"==t.mode?"编辑分销等级":"新增分销等级"},on:{back:function(i){return t.$router.go(-1)}}})],1),e("div",{staticClass:"ls-card ls-coupon-edit__form m-t-10"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("等级信息")]),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"等级名称",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{disabled:t.disabled,placeholder:"请输入等级名称"},model:{value:t.form.name,callback:function(i){t.$set(t.form,"name",i)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"等级级别",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{disabled:t.disabled,placeholder:"请输入等级级别"},model:{value:t.form.weights,callback:function(i){t.$set(t.form,"weights",i)},expression:"form.weights"}}),e("span",{staticClass:"desc"},[t._v("级别数字越大表示等级越高，等级级别不能相同。填写大于1的整数。")])],1),e("el-form-item",{attrs:{label:"等级描述"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",disabled:t.disabled,placeholder:"请输入内容",rows:"8",maxlength:"30","show-word-limit":""},model:{value:t.form.remark,callback:function(i){t.$set(t.form,"remark",i)},expression:"form.remark"}})],1)],1)],1),e("div",{staticClass:"ls-card ls-coupon-edit__form m-t-10"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("等级佣金")]),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"自购佣金比例",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{disabled:t.disabled,placeholder:"请输入自购佣金比例"},model:{value:t.form.self_ratio,callback:function(i){t.$set(t.form,"self_ratio",i)},expression:"form.self_ratio"}})],1),e("el-form-item",{attrs:{label:"一级佣金比例",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{disabled:t.disabled,placeholder:"请输入一级佣金比例"},model:{value:t.form.first_ratio,callback:function(i){t.$set(t.form,"first_ratio",i)},expression:"form.first_ratio"}})],1),e("el-form-item",{attrs:{label:"二级佣金比例",required:""}},[e("el-input",{staticClass:"ls-input",attrs:{disabled:t.disabled,placeholder:"请输入二级佣金比例"},model:{value:t.form.second_ratio,callback:function(i){t.$set(t.form,"second_ratio",i)},expression:"form.second_ratio"}}),e("span",{staticClass:"desc"},[t._v("佣金支持小数点后2位，等级佣金总和不能超过100%")])],1)],1)],1),0==t.flag?e("div",{staticClass:"ls-card ls-coupon-edit__form m-t-10"},[e("div",{staticClass:"nr weight-500 m-b-20"},[t._v("等级信息")]),e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",size:"small"}},[e("el-form-item",{attrs:{label:"等级条件"}},[e("el-radio",{attrs:{disabled:t.disabled,label:1},model:{value:t.form.update_relation,callback:function(i){t.$set(t.form,"update_relation",i)},expression:"form.update_relation"}},[t._v("满足以下任何条件")]),e("el-radio",{attrs:{disabled:t.disabled,label:2},model:{value:t.form.update_relation,callback:function(i){t.$set(t.form,"update_relation",i)},expression:"form.update_relation"}},[t._v("满足以下全部条件")])],1),e("el-form-item",{attrs:{label:""}},[e("div",{staticClass:"m-b-10"},[t._v(" 单笔消费金额"),e("el-input",{staticClass:"ls-input m-l-10",attrs:{disabled:t.disabled,placeholder:""},model:{value:t.form.update_condition[0].singleConsumptionAmount,callback:function(i){t.$set(t.form.update_condition[0],"singleConsumptionAmount",i)},expression:"form.update_condition[0].singleConsumptionAmount"}}),t._v("元 ")],1),e("div",{staticClass:"m-b-10"},[t._v(" 累计消费金额"),e("el-input",{staticClass:"ls-input m-l-10",attrs:{disabled:t.disabled,placeholder:""},model:{value:t.form.update_condition[1].cumulativeConsumptionAmount,callback:function(i){t.$set(t.form.update_condition[1],"cumulativeConsumptionAmount",i)},expression:"form.update_condition[1].cumulativeConsumptionAmount"}}),t._v("元 ")],1),e("div",{staticClass:"m-b-10"},[t._v(" 累计消费次数"),e("el-input",{staticClass:"ls-input m-l-10",attrs:{disabled:t.disabled,placeholder:""},model:{value:t.form.update_condition[2].cumulativeConsumptionTimes,callback:function(i){t.$set(t.form.update_condition[2],"cumulativeConsumptionTimes",i)},expression:"form.update_condition[2].cumulativeConsumptionTimes"}}),t._v("次 ")],1),e("div",{staticClass:"m-b-10"},[t._v(" 已结算佣金收入"),e("el-input",{staticClass:"ls-input m-l-10",attrs:{disabled:t.disabled,placeholder:""},model:{value:t.form.update_condition[3].returnedCommission,callback:function(i){t.$set(t.form.update_condition[3],"returnedCommission",i)},expression:"form.update_condition[3].returnedCommission"}}),t._v("元 ")],1)])],1)],1):t._e(),e("div",{staticClass:"bg-white ls-fixed-footer flex row-center"},[e("div",{staticClass:"row-center flex"},[e("el-button",{attrs:{size:"small"},on:{click:function(i){return t.$router.go(-1)}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary",disabled:t.disabled},on:{click:function(i){return t.onSubmit("form")}}},[t._v("保存")])],1)])])}),[],!1,null,"3dba46d1",null);i.default=l.exports},4072:function(t,i,e){"use strict";e.d(i,"f",(function(){return o})),e.d(i,"z",(function(){return n})),e.d(i,"A",(function(){return r})),e.d(i,"m",(function(){return a})),e.d(i,"l",(function(){return d})),e.d(i,"k",(function(){return l})),e.d(i,"n",(function(){return u})),e.d(i,"u",(function(){return m})),e.d(i,"t",(function(){return c})),e.d(i,"c",(function(){return b})),e.d(i,"d",(function(){return f})),e.d(i,"e",(function(){return p})),e.d(i,"v",(function(){return _})),e.d(i,"y",(function(){return v})),e.d(i,"b",(function(){return h})),e.d(i,"a",(function(){return g})),e.d(i,"g",(function(){return C})),e.d(i,"i",(function(){return w})),e.d(i,"j",(function(){return x})),e.d(i,"s",(function(){return k})),e.d(i,"q",(function(){return $})),e.d(i,"r",(function(){return A})),e.d(i,"o",(function(){return y})),e.d(i,"p",(function(){return j})),e.d(i,"w",(function(){return q})),e.d(i,"h",(function(){return z})),e.d(i,"x",(function(){return T}));var s=e("f175");const o=()=>s.a.get("/distribution.distribution_data/dataCenter"),n=t=>s.a.get("/distribution.distribution_data/topMemberEarnings",{params:t}),r=t=>s.a.get("/distribution.distribution_data/topMemberFans",{params:t}),a=t=>s.a.get("/distribution.distribution_goods/lists",{params:t}),d=t=>s.a.post("/distribution.distribution_goods/join",t),l=t=>s.a.get("/distribution.distribution_goods/detail",{params:t}),u=t=>s.a.post("/distribution.distribution_goods/set",t),m=t=>s.a.get("/distribution.distribution_member/lists",{params:t}),c=t=>s.a.get("/distribution.distribution_apply/detail",{params:t}),b=t=>s.a.get("/distribution.distribution_apply/lists",{params:t}),f=t=>s.a.post("/distribution.distribution_apply/pass",t),p=t=>s.a.post("/distribution.distribution_apply/refuse",t),_=t=>s.a.post("/distribution.distribution_member/open",t),v=t=>s.a.post("/distribution.distribution_member/freeze",t),h=t=>s.a.get("/distribution.distribution_member/adjustLevelInfo",{params:t}),g=t=>s.a.post("/distribution.distribution_member/adjustLevel",t),C=t=>s.a.get("/distribution.distribution_member/detail",{params:t}),w=t=>s.a.get("/distribution.distribution_member/getFans",{params:t}),x=t=>s.a.get("/distribution.distribution_member/getFansLists",{params:t}),k=t=>s.a.get("/distribution.distribution_level/lists",t),$=t=>s.a.get("/distribution.distribution_level/detail",{params:t}),A=t=>s.a.post("/distribution.distribution_level/edit",t),y=t=>s.a.post("/distribution.distribution_level/add",t),j=t=>s.a.post("/distribution.distribution_level/delete",t),q=t=>s.a.get("/distribution.distribution_order_goods/lists",{params:t}),z=t=>s.a.get("/distribution.distribution_config/getConfig",{params:t}),T=t=>s.a.post("/distribution.distribution_config/setConfig",t)},6488:function(t,i,e){}}]);