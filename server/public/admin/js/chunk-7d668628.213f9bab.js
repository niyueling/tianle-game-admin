(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7d668628"],{"1c0a":function(t,e,a){"use strict";a.r(e);var l=a("9ab4"),r=a("1b40"),n=a("92f3"),s=a("6ddb"),o=a("0a6d"),i=a("3c50");let c=class extends r.e{constructor(){super(...arguments),this.formData={name:"",type:"",status:""},this.pager=new s.a}getList(t){t&&(this.pager.page=t),this.pager.request({callback:n.h,params:this.formData})}handleReset(){Object.keys(this.formData).forEach(t=>{this.$set(this.formData,t,"")}),this.getList()}handleStatus(t,e){Object(n.j)({id:e,status:t}).then(()=>{this.getList()})}handleDelete(t){Object(n.d)({id:t}).then(()=>{this.getList()})}created(){this.getList()}};c=Object(l.a)([Object(r.a)({components:{LsDialog:o.a,LsPagination:i.a}})],c);var u=c,d=a("2877"),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"integral-goods"},[a("div",{staticClass:"ls-card",staticStyle:{"padding-bottom":"8px"}},[a("el-alert",{attrs:{title:"温馨提示：1.添加积分商城商品；2.兑换类型为“红包”时，无需物流配送，付完款直接是已完成状态；兑换类型为“商品”时，可以做发货操作。",type:"info","show-icon":"",closable:!1}}),a("div",{staticClass:"form-data m-t-16"},[a("el-form",{attrs:{inline:"",model:t.formData,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"兑换类型"}},[a("el-select",{attrs:{placeholder:"请选择兑换类型"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"商品",value:1}}),a("el-option",{attrs:{label:"红包",value:2}})],1)],1),a("el-form-item",{attrs:{label:"商品状态"}},[a("el-select",{attrs:{placeholder:"请选择商品状态"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"下架",value:0}})],1)],1),a("el-form-item",{staticClass:"m-l-20",attrs:{label:""}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getList(1)}}},[t._v(" 查询 ")]),a("el-button",{attrs:{size:"small"},on:{click:t.handleReset}},[t._v(" 重置 ")])],1)],1)],1)],1),a("div",{staticClass:"ls-card m-t-16"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.$router.push("/integral_mall/integral_goods_edit")}}},[t._v(" 新增积分商品 ")]),a("div",{staticClass:"table-content m-t-16"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{data:t.pager.lists,size:"mini"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"商品名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"stock",label:"库存"}}),a("el-table-column",{attrs:{prop:"type_desc",label:"兑换类型"}}),a("el-table-column",{attrs:{prop:"need_desc",label:"兑换积分"}}),a("el-table-column",{attrs:{label:"商品状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return t.handleStatus(a,e.row.id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$router.push({path:"/integral_mall/integral_goods_edit",query:{id:e.row.id}})}}},[t._v(" 编辑 ")]),a("ls-dialog",{staticClass:"m-l-10 inline",attrs:{content:"确定删除："+e.row.name+"？请谨慎操作。"},on:{confirm:function(a){return t.handleDelete(e.row.id)}}},[a("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[t._v(" 删除 ")])],1)]}}])})],1)],1),a("div",{staticClass:"flex row-right m-t-16"},[a("ls-pagination",{on:{change:function(e){return t.getList()}},model:{value:t.pager,callback:function(e){t.pager=e},expression:"pager"}})],1)],1)])}),[],!1,null,null,null);e.default=p.exports},"92f3":function(t,e,a){"use strict";a.d(e,"h",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"g",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"j",(function(){return i})),a.d(e,"f",(function(){return c})),a.d(e,"m",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"k",(function(){return p})),a.d(e,"e",(function(){return g})),a.d(e,"c",(function(){return m})),a.d(e,"b",(function(){return f})),a.d(e,"i",(function(){return b}));var l=a("f175");const r=t=>l.a.get("/integral.integral_goods/lists",{params:t}),n=t=>l.a.post("/integral.integral_goods/add",t),s=t=>l.a.post("/integral.integral_goods/edit",t),o=t=>l.a.post("/integral.integral_goods/del",t),i=t=>l.a.post("/integral.integral_goods/status",t),c=t=>l.a.get("/integral.integral_goods/detail",{params:t}),u=t=>l.a.get("/integral.integral_order/lists",{params:t}),d=t=>l.a.get("/integral.integral_order/detail",{params:t}),p=t=>l.a.get("/integral.integral_order/deliveryInfo",{params:t}),g=t=>l.a.post("/integral.integral_order/delivery",t),m=t=>l.a.post("/integral.integral_order/confirm",t),f=t=>l.a.post("/integral.integral_order/cancel",t),b=t=>l.a.get("/integral.integral_order/logistics",{params:t})}}]);