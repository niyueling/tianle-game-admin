(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c729b840"],{"2c96":function(e,t,s){"use strict";var i=s("9ab4"),l=s("1b40"),r=s("f633"),a=s("6ddb"),o=s("3c50");let n=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.isNameSN="",this.form={user_id:"",sn:"",nickname:""},this.pager=new a.a,this.currentRow={},this.formRules={}}getuserId(e){this.$set(this.form,"user_id",e)}getChange(e){this.form.sn="",this.form.nickname=""}onTrigger(){this.getList(),this.visible=!0}close(){this.visible=!1,this.form.sn="",this.form.nickname=""}onSubmit(){return"{}"==JSON.stringify(this.currentRow)||null==this.currentRow?this.$message.error("请选择用户"):(this.$emit("getUser",this.currentRow),void(this.visible=!1))}getList(){this.pager.request({callback:r.a,params:{...this.form}}).then(e=>{})}onReset(){this.form.sn="",this.form.nickname="",this.getList()}handleCurrentChange(e){this.currentRow=e}};Object(i.a)([Object(l.c)()],n.prototype,"userId",void 0),Object(i.a)([Object(l.c)({default:""})],n.prototype,"title",void 0),Object(i.a)([Object(l.c)({default:"880px"})],n.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:"10vh"})],n.prototype,"top",void 0),Object(i.a)([Object(l.f)("userId",{immediate:!0})],n.prototype,"getuserId",null),Object(i.a)([Object(l.f)("isNameSN",{immediate:!0})],n.prototype,"getChange",null),n=Object(i.a)([Object(l.a)({components:{LsPagination:o.a}})],n);var c=n,u=s("2877"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1,"append-to-body":!0}},[s("div",{},[s("el-form",{staticClass:"ls-form",attrs:{inline:"",model:e.form,"label-width":"70px",size:"small"}},[s("el-form-item",{attrs:{label:"用户信息"}},[s("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"用户编号"},model:{value:e.isNameSN,callback:function(t){e.isNameSN=t},expression:"isNameSN"}},[s("el-option",{attrs:{label:"用户编号",value:"0"}}),s("el-option",{attrs:{label:"用户昵称",value:"1"}})],1),0==e.isNameSN?s("el-input",{attrs:{placeholder:"请输入用户编号查询"},model:{value:e.form.sn,callback:function(t){e.$set(e.form,"sn",t)},expression:"form.sn"}}):e._e(),1==e.isNameSN?s("el-input",{attrs:{placeholder:"请输入用户昵称查询"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}}):e._e()],1),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getList}},[e._v("查询")]),s("el-button",{attrs:{size:"small"},on:{click:e.onReset}},[e._v("重置")])],1),s("div",{staticClass:"list-table m-t-16"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pager.loading,expression:"pager.loading"}],staticStyle:{width:"100%"},attrs:{height:"420",data:e.pager.lists,size:"mini","header-cell-style":{background:"#f5f8ff"},"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[s("el-table-column",{attrs:{prop:"sn",label:"用户编号","min-width":"",width:""}}),s("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","min-width":"",width:""}})],1)],1),s("div",{staticClass:"flex row-right m-t-16 row-right"},[s("ls-pagination",{on:{change:function(t){return e.getList()}},model:{value:e.pager,callback:function(t){e.pager=t},expression:"pager"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)}),[],!1,null,"dd7a295c",null).exports;let m=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:"assign",first_id:""},this.selectUser={id:"",nickname:"",sn:""},this.formRules={type:[{required:!0,message:"请选择",trigger:"change"}]}}getuserId(e){this.$set(this.form,"user_id",e)}getUser(e){null!=e&&(this.selectUser=e,this.form.first_id=this.selectUser.id)}onSubmit(){this.$refs.formRef.validate(e=>{if(e){if(""==this.form.first_id&&"assign"==this.form.type)return this.$message.error("请选择上级分销商");Object(r.v)({...this.form}).then(e=>{this.$emit("refresh")}).catch(e=>{}),this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.form.first_id="",this.selectUser={id:"",nickname:"",sn:""}}};Object(i.a)([Object(l.c)()],m.prototype,"value",void 0),Object(i.a)([Object(l.c)()],m.prototype,"nickname",void 0),Object(i.a)([Object(l.c)()],m.prototype,"sn",void 0),Object(i.a)([Object(l.c)()],m.prototype,"userId",void 0),Object(i.a)([Object(l.c)({default:""})],m.prototype,"title",void 0),Object(i.a)([Object(l.c)({default:"660px"})],m.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:"20vh"})],m.prototype,"top",void 0),Object(i.a)([Object(l.f)("userId",{immediate:!0})],m.prototype,"getuserId",null),m=Object(i.a)([Object(l.a)({components:{LsUserSelect:d}})],m);var p=m,f=Object(u.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[s("div",{},[s("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"用户信息",prop:""}},[s("div",{},[e._v(e._s(e.nickname)+"("+e._s(e.sn)+")")])]),s("el-form-item",{attrs:{label:"当前上级分销商",prop:""}},[s("div",{},[e._v(" "+e._s(e.value)+" ")])]),s("el-form-item",{attrs:{label:"调整方式",prop:"type",required:""}},[s("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-radio",{attrs:{label:"assign"}},[e._v("指定分销商")]),s("el-radio",{attrs:{label:"system"}},[e._v("设置分销商为系统")])],1),s("div",{staticClass:"muted xs m-r-16"},[e._v("选择“设置分销商为系统”时，用户的上级分销商会默认为系统")])],1),s("el-form-item",{attrs:{label:"选择分销商",prop:"",required:""}},[s("div",{staticClass:"flex"},[""!=e.selectUser.nickname?s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.selectUser.nickname||"")+"("+e._s(e.selectUser.sn||"")+") ")]):e._e(),s("ls-user-select",{attrs:{title:"选择用户",userId:e.form.user_id},on:{getUser:e.getUser}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("选择用户")])],1)],1),s("div",{staticClass:"muted xs m-r-16"},[e._v("选择新的分销商")])])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)])],1)}),[],!1,null,"367e3856",null);t.a=f.exports},"3b63":function(e,t,s){"use strict";s.r(t);var i=s("9ab4"),l=s("1b40"),r=s("f633"),a=s("0a6d");let o=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",type:1,action:1,num:0,remark:"",value:""},this.typeName="",this.valueRules={}}get lastValue(){let e=this.value;return e=1==this.form.action?Number(this.form.value)+1*this.form.num:Number(this.form.value)-1*this.form.num,e}getuserId(e){this.$set(this.form,"user_id",e)}getValue(e){this.$set(this.form,"value",e)}getType(e){1==e?(this.typeName="金额",this.$set(this.form,"type",e)):2==e?(this.typeName="可提现金额",this.$set(this.form,"type",e)):3==e&&(this.typeName="积分",this.$set(this.form,"type",e))}updateUserAdjustUserWallet(){if(1*this.form.num<=0)return this.$message.error("请输入大于0的数字");Object(r.r)(this.form).then(e=>{this.$emit("refresh"),this.visible=!1}).catch(e=>{this.visible=!1})}onTrigger(){this.visible=!0}close(){this.visible=!1,this.$set(this.form,"num",0),this.$set(this.form,"remark","")}};Object(i.a)([Object(l.c)()],o.prototype,"value",void 0),Object(i.a)([Object(l.c)()],o.prototype,"type",void 0),Object(i.a)([Object(l.c)()],o.prototype,"userId",void 0),Object(i.a)([Object(l.c)({default:""})],o.prototype,"title",void 0),Object(i.a)([Object(l.c)({default:"660px"})],o.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:"20vh"})],o.prototype,"top",void 0),Object(i.a)([Object(l.f)("userId",{immediate:!0})],o.prototype,"getuserId",null),Object(i.a)([Object(l.f)("value",{immediate:!0})],o.prototype,"getValue",null),Object(i.a)([Object(l.f)("type",{immediate:!0})],o.prototype,"getType",null),o=Object(i.a)([Object(l.a)({components:{}})],o);var n=o,c=s("2877"),u=Object(c.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[s("div",{},[s("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"当前"+e.typeName}},[3==e.type?s("div",[e._v(e._s(e.form.value))]):s("div",[e._v("¥ "+e._s(e.form.value))])]),s("el-form-item",{attrs:{label:e.typeName+"增减"}},[s("el-radio-group",{staticClass:"m-r-16",model:{value:e.form.action,callback:function(t){e.$set(e.form,"action",t)},expression:"form.action"}},[s("el-radio",{attrs:{label:1}},[e._v("增加"+e._s(e.typeName))]),s("el-radio",{attrs:{label:0}},[e._v("扣减"+e._s(e.typeName))])],1)],1),s("el-form-item",{attrs:{label:"调整"+e.typeName,prop:"num"}},[3==e.type?s("div",{},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的积分",type:"number"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}}),s("div",{staticClass:"muted xs m-r-16"},[e._v("输入调整的积分")])],1):s("div",{},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整的金额"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[s("template",{slot:"append"},[e._v("元")])],2),s("div",{staticClass:"muted xs m-r-16"},[e._v("输入调整的余额金额")])],1)]),s("el-form-item",{attrs:{label:"调整后"+e.typeName}},[3==e.type?s("div",[e._v(e._s(e.lastValue))]):s("div",[e._v("¥ "+e._s(e.lastValue))])]),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateUserAdjustUserWallet}},[e._v("确认")])],1)])],1)}),[],!1,null,"4fca1660",null).exports;let d=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",labelValue:[]},this.userLevelList={},this.userLabelList={},this.formRules={}}getuserId(e){this.$set(this.form,"user_id",e)}getUserSearchList(){Object(r.q)().then(e=>{this.userLevelList=e.user_level_list,this.userLabelList=e.user_label_list})}changeUserLabel(){this.$refs.formRef.validate(e=>{if(e)return this.form.labelValue.length?void Object(r.u)({user_id:this.userId,label_ids:this.form.labelValue}).then(e=>{this.$emit("refresh"),this.visible=!1}).catch(e=>{}):this.$message.error("请选择标签")})}onTrigger(){this.getUserSearchList(),this.visible=!0}close(){this.visible=!1,this.form.labelValue=[]}};Object(i.a)([Object(l.c)()],d.prototype,"value",void 0),Object(i.a)([Object(l.c)()],d.prototype,"userId",void 0),Object(i.a)([Object(l.c)({default:""})],d.prototype,"title",void 0),Object(i.a)([Object(l.c)({default:"660px"})],d.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:"20vh"})],d.prototype,"top",void 0),Object(i.a)([Object(l.f)("userId",{immediate:!0})],d.prototype,"getuserId",null),d=Object(i.a)([Object(l.a)({components:{}})],d);var m=d,p=Object(c.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1},on:{close:e.close}},[s("div",{},[s("el-form",{ref:"formRef",attrs:{rules:e.formRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"标签调整",prop:"labelValue"}},[s("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.labelValue,callback:function(t){e.$set(e.form,"labelValue",t)},expression:"form.labelValue"}},e._l(e.userLabelList,(function(e,t){return s("div",{key:t},[s("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),s("div",{staticClass:"xxs lighter"},[e._v("可以多选用户标签")])],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLabel}},[e._v("确认")])],1)])],1)}),[],!1,null,"40554a35",null).exports;let f=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.form={user_id:"",level:"",remark:"",value:""},this.labelValue=[],this.userLevelList=[],this.valueRules={level:[{required:!0,message:"请选择用户等级",trigger:"change"}]}}get lastValue(){let e=[{name:""}];e=this.userLevelList.filter(e=>(null==e?void 0:e.id)==this.form.level);return e.map(e=>e.name).toString()}getuserId(e){this.$set(this.form,"user_id",e)}getValue(e){this.$set(this.form,"value",e)}getUserSearchList(){Object(r.q)().then(e=>{this.userLevelList=e.user_level_list})}changeUserLevel(){this.$refs.valueRef.validate(e=>{e&&(Object(r.s)({user_id:this.form.user_id,field:"level",value:this.form.level}).then(e=>{this.$emit("refresh")}).catch(e=>{}),this.visible=!1,this.form.remark="")})}onTrigger(){this.getUserSearchList(),this.visible=!0}close(){this.visible=!1,this.form.remark="",this.form.level=""}};Object(i.a)([Object(l.c)()],f.prototype,"value",void 0),Object(i.a)([Object(l.c)()],f.prototype,"userId",void 0),Object(i.a)([Object(l.c)({default:""})],f.prototype,"title",void 0),Object(i.a)([Object(l.c)({default:"660px"})],f.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:"20vh"})],f.prototype,"top",void 0),Object(i.a)([Object(l.f)("userId",{immediate:!0})],f.prototype,"getuserId",null),Object(i.a)([Object(l.f)("value",{immediate:!0})],f.prototype,"getValue",null),f=Object(i.a)([Object(l.a)({components:{}})],f);var v=f,b=Object(c.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"ls-dialog__trigger",on:{click:e.onTrigger}},[e._t("trigger")],2),s("el-dialog",{attrs:{"coustom-class":"ls-dialog__content",title:e.title,visible:e.visible,width:e.width,top:e.top,"modal-append-to-body":!1,center:"","before-close":e.close,"close-on-click-modal":!1}},[s("div",{},[s("el-form",{ref:"valueRef",attrs:{rules:e.valueRules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"当前等级"}},[s("div",[e._v(e._s(e.form.value))])]),s("el-form-item",{attrs:{label:"等级调整",prop:"level"}},[s("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择等级"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},e._l(e.userLevelList,(function(e,t){return s("div",{key:t},[s("el-option",{attrs:{label:e.name,value:e.id}})],1)})),0),s("div",{staticClass:"xxs lighter"},[e._v("选择调整后的等级")])],1),s("el-form-item",{attrs:{label:"调整后等级"}},[s("div",[e._v(e._s(e.lastValue))])]),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"ls-input",staticStyle:{width:"300px"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.changeUserLevel}},[e._v("确认")])],1)])],1)}),[],!1,null,"4d091e29",null).exports,h=s("2c96");let _=class extends l.e{constructor(){super(...arguments),this.visible=!1,this.inputValue="",this.pickerOptions={disabledDate:e=>e.getTime()>Date.now(),shortcuts:[{text:"今天",onClick(e){e.$emit("pick",new Date)}},{text:"昨天",onClick(e){const t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick(e){const t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}valueChange(e){this.inputValue=e}handleConfirm(){this.visible=!1,"time"==this.changeType&&(this.inputValue=String(new Date(this.inputValue).getTime()/1e3)),this.$emit("confirm",this.inputValue)}close(){this.inputValue="",this.visible=!1}handleOpen(){this.disabled||(this.visible=!0)}};Object(i.a)([Object(l.c)()],_.prototype,"changeType",void 0),Object(i.a)([Object(l.c)()],_.prototype,"value",void 0),Object(i.a)([Object(l.c)({default:"number"})],_.prototype,"type",void 0),Object(i.a)([Object(l.c)({default:"250"})],_.prototype,"width",void 0),Object(i.a)([Object(l.c)({default:!1})],_.prototype,"disabled",void 0),Object(i.a)([Object(l.c)()],_.prototype,"tips",void 0),Object(i.a)([Object(l.f)("value",{immediate:!0})],_.prototype,"valueChange",null),_=Object(i.a)([l.a],_);var g=_,y=Object(c.a)(g,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-popover",{staticClass:"popover-input",attrs:{placement:"top",width:e.width,trigger:"manual"},on:{hide:e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"popover-input__input m-r-10 flex-1"},["input"==e.changeType?s("el-input",{attrs:{type:e.type,size:"mini",placeholder:e.tips},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e(),"sex"==e.changeType?s("el-select",{staticClass:"ls-select",attrs:{placeholder:"请选择性别",size:"mini"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[s("el-option",{attrs:{label:"男",value:1}}),s("el-option",{attrs:{label:"女",value:2}})],1):e._e(),"time"==e.changeType?s("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e()],1),s("div",{staticClass:"popover-input__btns flex-none"},[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.close}},[e._v("取消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确定")])],1)]),s("div",{staticClass:"inline",attrs:{slot:"reference",type:"text"},on:{click:e.handleOpen},slot:"reference"},[e._t("default")],2)])}),[],!1,null,"55bff4f1",null).exports;let j=class extends l.e{constructor(){super(...arguments),this.user_id="",this.isShowWallet=1,this.user_info={id:"",sn:"",nickname:"",avatar:"",sex:"",code:"",level_name:"",create_time:"",login_time:"",disable:"",labels:"",leader_inviter:"",fans:"",total_user_money:"",user_money:"",user_earnings:"",user_integral:"",count_num:"",inviter:{name:"",num:""},first_leader_info:{name:""}},this.transaction={total_order_amount:"",total_order_num:"",customer_price:" ",lately_order_time:""},this.userRules={},this.transactionRules={}}userDetail(){Object(r.b)({user_id:this.user_id}).then(e=>{this.user_info=e.user_info,this.transaction=e.transaction}).catch(e=>{})}userSetInfo(e,t){Object(r.s)({user_id:this.user_id,field:t,value:e}).then(e=>{this.userDetail()}).catch(e=>{})}toInvitationList(e){this.$router.push({path:"/user/invitation_list",query:{id:e.id}})}handleFrozen(){let{disable:e}=this.user_info;e=0==e?1:0,this.userSetInfo(e,"disable")}created(){const e=this.$route.query;e.id&&(this.user_id=e.id),this.userDetail()}};j=Object(i.a)([Object(l.a)({components:{LsDialog:a.a,LsUserChange:u,LsLabelChange:p,LsLevelChange:b,PopoverInputUser:y,LsInvitationChange:h.a}})],j);var O=j,x=(s("a040"),Object(c.a)(O,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-details"},[s("div",{staticClass:"ls-card"},[s("el-page-header",{attrs:{content:"用户详情"},on:{back:function(t){return e.$router.go(-1)}}})],1),s("div",{staticClass:"m-t-16 flex col-top"},[s("div",{staticClass:"ls-card card-height"},[s("div",{staticClass:"card-title"},[e._v("基本资料")]),s("div",{staticClass:"content m-t-16 m-b-16"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{staticClass:"flex-col col-center",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("用户头像")]),s("img",{staticClass:"avatar",attrs:{src:e.user_info.avatar,width:"58",height:"58"}})]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("钱包金额")]),s("div",{staticStyle:{margin:"7px 0"}},[e._v(" "+e._s(e.user_info.total_user_money)+" ")])]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可用余额")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.user_money)+" ")]),s("ls-user-change",{attrs:{title:"可用余额调整",value:e.user_info.user_money,type:1,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可提现金额")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.user_earnings)+" ")]),s("ls-user-change",{attrs:{title:"可提现金额调整",value:e.user_info.user_earnings,type:2,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("积分")]),s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.user_integral)+" ")]),s("ls-user-change",{attrs:{title:"积分调整",value:e.user_info.user_integral,type:3,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("调整")])],1)],1)]),s("el-col",{staticClass:"flex-col col-center item",attrs:{span:4}},[s("div",{staticClass:"lighter m-b-8"},[e._v("可用优惠券")]),s("div",{staticClass:"flex"},[s("div",{staticStyle:{margin:"7px 0"}},[e._v(" "+e._s(e.user_info.coupon_num)+" ")])])])],1)],1),s("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[s("div",{},[s("el-form-item",{attrs:{label:"用户编号",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.sn)+" ")])]),s("el-form-item",{attrs:{label:"用户昵称",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.nickname)+" ")])]),s("el-form-item",{attrs:{label:"用户等级",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.level_name)+" ")]),s("ls-level-change",{attrs:{title:"等级调整",value:e.user_info.level_name,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},slot:"trigger"},[e._v("等级调整")])],1)],1)]),s("el-form-item",{attrs:{label:"真实姓名",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(" "+e._s(e.user_info.real_name)+" ")]),s("popover-input-user",{attrs:{width:400,changeType:"input",type:"text",value:e.user_info.real_name},on:{confirm:function(t){return e.userSetInfo(t,"real_name")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"性别",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(" "+e._s(e.user_info.sex)+" ")]),s("popover-input-user",{attrs:{width:300,type:"text",value:e.user_info.sex,changeType:"sex"},on:{confirm:function(t){return e.userSetInfo(t,"sex")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"手机号码",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(" "+e._s(e.user_info.mobile)+" ")]),s("popover-input-user",{attrs:{width:400,type:"text",changeType:"input",value:e.user_info.mobile},on:{confirm:function(t){return e.userSetInfo(t,"mobile")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"生日",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"ls-input m-r-10"},[e._v(" "+e._s(e.user_info.birthday)+" ")]),s("popover-input-user",{attrs:{width:400,changeType:"time",type:"text",value:e.user_info.birthday},on:{confirm:function(t){return e.userSetInfo(t,"birthday")}}},[s("el-button",{staticClass:"ls-edit",attrs:{type:"text",icon:"el-icon-edit"}})],1)],1)]),s("el-form-item",{attrs:{label:"邀请人",prop:""}},[s("div",[e._v(" "+e._s(e.user_info.inviter.name)+" ")])]),s("el-form-item",{attrs:{label:"我邀请的人数",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.inviter.num)+" ")]),s("el-button",{attrs:{slot:"trigger",type:"text",size:"small"},on:{click:function(t){return e.toInvitationList(e.user_info)}},slot:"trigger"},[e._v("我邀请的人数")])],1)]),s("el-form-item",{attrs:{label:"上级分销商",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.first_leader_info.name)+" ")]),s("ls-invitation-change",{attrs:{title:"上级分销商调整",value:e.user_info.first_leader_info.name,userId:e.user_id,nickname:e.user_info.nickname,sn:e.user_info.sn},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)]),s("el-form-item",{attrs:{label:"注册来源"}},[s("div",[e._v(" "+e._s(e.user_info.register_source)+" ")])]),s("el-form-item",{attrs:{label:"注册时间"}},[s("div",[e._v(" "+e._s(e.user_info.create_time)+" ")])]),s("el-form-item",{attrs:{label:"最近登录时间"}},[s("div",[e._v(" "+e._s(e.user_info.login_time)+" ")])]),s("el-form-item",{attrs:{label:""}},[s("el-button",{on:{click:e.handleFrozen}},[e._v(e._s(e.user_info.disable?"取消冻结":"冻结会员"))])],1)],1)])],1)]),s("div",{staticClass:"ls-card m-t-16"},[s("div",{staticClass:"card-title m-b-30"},[e._v("用户标签")]),s("el-form",{ref:"userRef",staticClass:"flex col-top",attrs:{rules:e.userRules,model:e.user_info,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"用户标签",prop:""}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"m-r-10"},[e._v(" "+e._s(e.user_info.labels)+" ")]),s("ls-label-change",{attrs:{title:"用户标签调整",value:e.user_info.labels,userId:e.user_id},on:{refresh:e.userDetail}},[s("el-button",{attrs:{slot:"trigger",type:"text",size:"small",icon:"el-icon-edit"},slot:"trigger"})],1)],1)])],1)],1),s("div",{staticClass:"ls-card m-t-16"},[s("div",{staticClass:"card-title m-b-30"},[e._v("交易数据")]),s("el-form",{ref:"transactionRef",staticClass:"flex col-top",attrs:{rules:e.transactionRules,model:e.transaction,"label-width":"120px",size:"small"}},[s("div",{},[s("el-form-item",{attrs:{label:"成交订单数 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.total_order_num)+" ")])]),s("el-form-item",{attrs:{label:"消费金额 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.total_order_amount)+" ")])]),s("el-form-item",{attrs:{label:"最近消费时间 ",prop:""}},[s("div",[e._v(" "+e._s(e.transaction.lately_order_time)+" ")])])],1)])],1)])}),[],!1,null,"279ca009",null));t.default=x.exports},a040:function(e,t,s){"use strict";s("a687")},a687:function(e,t,s){},f633:function(e,t,s){"use strict";s.d(t,"o",(function(){return l})),s.d(t,"k",(function(){return r})),s.d(t,"m",(function(){return a})),s.d(t,"n",(function(){return o})),s.d(t,"l",(function(){return n})),s.d(t,"j",(function(){return c})),s.d(t,"f",(function(){return u})),s.d(t,"h",(function(){return d})),s.d(t,"i",(function(){return m})),s.d(t,"g",(function(){return p})),s.d(t,"p",(function(){return f})),s.d(t,"q",(function(){return v})),s.d(t,"b",(function(){return b})),s.d(t,"s",(function(){return h})),s.d(t,"t",(function(){return _})),s.d(t,"u",(function(){return g})),s.d(t,"r",(function(){return y})),s.d(t,"c",(function(){return j})),s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return x})),s.d(t,"v",(function(){return C})),s.d(t,"a",(function(){return k}));var i=s("f175");const l=e=>i.a.get("/user.user_level/lists",{params:e}),r=e=>i.a.post("/user.user_level/add",e),a=e=>i.a.get("/user.user_level/detail",{params:e}),o=e=>i.a.post("/user.user_level/edit",e),n=e=>i.a.post("/user.user_level/del",e),c=e=>i.a.get("/user.user_label/lists",{params:e}),u=e=>i.a.post("/user.user_label/add",e),d=e=>i.a.get("/user.user_label/detail",{params:e}),m=e=>i.a.post("/user.user_label/edit",e),p=e=>i.a.post("/user.user_label/del",e),f=e=>i.a.get("/user.user/lists",{params:e}),v=()=>i.a.get("/user.user/otherList"),b=e=>i.a.get("/user.user/detail",{params:e}),h=e=>i.a.post("/user.user/setInfo",e),_=e=>i.a.post("/user.user/setLabel",e),g=e=>i.a.post("/user.user/setUserLabel",e),y=e=>i.a.post("/user.user/adjustUserWallet",e),j=()=>i.a.get("/user.user/index"),O=e=>i.a.get("/user.user/info",{params:e}),x=e=>i.a.get("/user.user/userInviterLists",{params:e}),C=e=>i.a.post("/user.user/adjustFirstLeader",e),k=e=>i.a.get("/user.user/selectUserLists",{params:e})}}]);