(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6ed01558"],{"7fef":function(e,t,a){"use strict";a.r(t);var r=a("9ab4"),o=a("b99a"),l=a("1b40");let i=class extends l.e{constructor(){super(...arguments),this.loading=!1,this.formDate={open_award:0,award_event:"",award_ratio:""},this.formRules={award_event:[{required:!0,message:"请选择赠送积分事件",trigger:"blur"}],award_ratio:[{required:!0,message:"请输入赠送积分比例",trigger:"blur"}]}}setConfig(){this.$refs.formRef.validate(e=>{if(!e)return!1;Object(o.c)(this.formDate)})}getConfig(){this.loading=!0,Object(o.b)().then(e=>{this.formDate=e}).finally(()=>{this.loading=!1})}created(){this.getConfig()}};i=Object(r.a)([l.a],i);var s=i,n=a("2877"),d=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"consumption-reward"},[a("div",{staticClass:"ls-card"},[a("el-alert",{attrs:{title:"温馨提示：设置会员下单的积分奖励",type:"info","show-icon":"",closable:!1}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ls-card m-t-16"},[a("el-form",{ref:"formRef",attrs:{model:e.formDate,rules:e.formRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"消费赠送积分",required:""}},[a("el-radio-group",{model:{value:e.formDate.open_award,callback:function(t){e.$set(e.formDate,"open_award",t)},expression:"formDate.open_award"}},[a("el-radio",{attrs:{label:1}},[e._v("开启")]),a("el-radio",{attrs:{label:0}},[e._v("关闭")])],1),a("div",{staticClass:"muted"},[e._v("状态开启才生效，默认为关闭")])],1),a("el-form-item",{attrs:{label:"赠送积分事件",prop:"award_event"}},[a("el-select",{attrs:{placeholder:"请选择赠送积分事件"},model:{value:e.formDate.award_event,callback:function(t){e.$set(e.formDate,"award_event",t)},expression:"formDate.award_event"}},[a("el-option",{attrs:{label:"订单付款",value:1}}),a("el-option",{attrs:{label:"订单发货",value:2}}),a("el-option",{attrs:{label:"订单完成",value:3}}),a("el-option",{attrs:{label:"订单超过售后期",value:4}})],1)],1),a("el-form-item",{attrs:{label:"赠送积分比例",prop:"award_ratio"}},[a("el-input",{attrs:{placeholder:"请输入赠送积分比例",type:"number"},model:{value:e.formDate.award_ratio,callback:function(t){e.$set(e.formDate,"award_ratio",t)},expression:"formDate.award_ratio"}},[a("template",{slot:"append"},[e._v("%")])],2),a("div",{staticClass:"muted"},[e._v("按订单实付金额赠送，比率必须为整数，例：当设置为100%时，100元=100积分")])],1)],1)],1),a("div",{staticClass:"bg-white ls-fixed-footer"},[a("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.setConfig}},[e._v("保存")])],1)])])}),[],!1,null,null,null);t.default=d.exports},b99a:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return d}));var r=a("f175");const o=()=>r.a.get("/config/getMarketingModule"),l=()=>r.a.get("/config/getAppModule"),i=e=>r.a.get("/common/activity",{params:e}),s=e=>r.a.get("/common/activityGoods",{params:e}),n=e=>r.a.post("award_integral/setConfig",e),d=()=>r.a.get("award_integral/getConfig")}}]);