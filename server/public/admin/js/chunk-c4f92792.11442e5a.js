(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c4f92792"],{1858:function(t,e,a){"use strict";a.r(e);var i=a("9ab4"),n=a("1b40"),r=a("68eb"),s=a("c2a9"),o=a("b3ad");let u=class extends n.e{constructor(){super(...arguments),this.loading=!1,this.identity=null,this.form={admin_id:"",nickname:"",disable:0,sort:"",avatar:""},this.rules={admin_id:[{required:!0,message:"请选择管理员",trigger:["blur","change"]}],nickname:[{required:!0,message:"请输入客服昵称",trigger:"blur"}],avatar:[{required:!0,message:"请输入客服头像",trigger:"blur"}]},this.adminOption=[]}get pageTitle(){return this.identity?"编辑客服":"新增客服"}getAdminOption(){Object(r.e)({page_type:0}).then(t=>{this.adminOption=t.lists})}onSubmit(t){this.$refs[t].validate(t=>{if(!t)return;(this.identity?Object(s.f)({id:this.identity,...this.form}):Object(s.c)(this.form)).then(t=>{setTimeout(()=>{this.$router.back()},1e3)})})}getDetails(){this.loading=!0,Object(s.e)({id:this.identity}).then(t=>{Object.keys(t).map(e=>{this.$set(this.form,e,t[e])})}).catch(()=>{}).finally(()=>{this.loading=!1})}created(){const t=this.$route.query;this.identity=t.id,this.getAdminOption(),this.identity&&this.getDetails()}};u=Object(i.a)([Object(n.a)({components:{MaterialSelect:o.a}})],u);var l=u,d=(a("4373"),a("2877")),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"service-edit"},[a("div",{staticClass:"ls-card"},[a("el-page-header",{attrs:{content:t.pageTitle},on:{back:function(e){return t.$router.back()}}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ls-card m-t-16"},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"管理员",prop:"admin_id"}},[a("el-select",{attrs:{placeholder:"请选择管理员",disabled:t.identity},model:{value:t.form.admin_id,callback:function(e){t.$set(t.form,"admin_id",e)},expression:"form.admin_id"}},t._l(t.adminOption,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),a("div",{staticClass:"muted"},[t._v("管理员账号密码可用于登录客服工作台")])],1),a("el-form-item",{attrs:{label:"客服头像",prop:"avatar"}},[a("material-select",{model:{value:t.form.avatar,callback:function(e){t.$set(t.form,"avatar",e)},expression:"form.avatar"}})],1),a("el-form-item",{attrs:{label:"客服昵称",prop:"nickname"}},[a("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入客服昵称"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"客服排序",prop:"sort"}},[a("el-input",{staticClass:"ls-input",attrs:{placeholder:"请输入客服排序"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}}),a("div",{staticClass:"muted"},[t._v("排序值越小越靠前，默认值为1")])],1),a("el-form-item",{attrs:{label:"状态",prop:"disable",required:""}},[a("el-switch",{attrs:{"active-value":0,"inactive-value":1},model:{value:t.form.disable,callback:function(e){t.$set(t.form,"disable",e)},expression:"form.disable"}}),a("div",{staticClass:"muted"},[t._v("客服账号状态，默认开启。关闭后禁止登陆客服工作台。")])],1)],1)],1),a("div",{staticClass:"bg-white ls-fixed-footer"},[a("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.back()}}},[t._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)])])}),[],!1,null,"e63eb29e",null);e.default=c.exports},4373:function(t,e,a){"use strict";a("a183")},"68eb":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return u})),a.d(e,"k",(function(){return l})),a.d(e,"i",(function(){return d})),a.d(e,"g",(function(){return c})),a.d(e,"j",(function(){return f})),a.d(e,"h",(function(){return m})),a.d(e,"f",(function(){return p}));var i=a("f175");const n=t=>i.a.get("/auth.admin/lists",{params:t}),r=t=>i.a.get("/auth.admin/detail",{params:t}),s=t=>i.a.post("/auth.admin/add",t),o=t=>i.a.post("/auth.admin/delete",t),u=t=>i.a.post("/auth.admin/edit",t),l=t=>i.a.get("/auth.role/lists",{params:t}),d=t=>i.a.get("/auth.role/detail",{params:t}),c=t=>i.a.post("/auth.role/add",t),f=t=>i.a.post("/auth.role/edit",t),m=t=>i.a.post("/auth.role/delete",t),p=()=>i.a.post("/config/getMenu")},a183:function(t,e,a){},c2a9:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"k",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return u})),a.d(e,"l",(function(){return l})),a.d(e,"e",(function(){return d})),a.d(e,"m",(function(){return c})),a.d(e,"d",(function(){return f})),a.d(e,"j",(function(){return m})),a.d(e,"g",(function(){return p})),a.d(e,"i",(function(){return h})),a.d(e,"h",(function(){return g}));var i=a("f175");const n=t=>i.a.get("/settings.service.service/getConfig",{params:t}),r=t=>i.a.post("/settings.service.service/setConfig",t),s=t=>i.a.get("/kefu.kefu/lists",{params:t}),o=t=>i.a.post("/kefu.kefu/add",t),u=t=>i.a.post("/kefu.kefu/edit",t),l=t=>i.a.post("/kefu.kefu/login",t),d=t=>i.a.get("/kefu.kefu/detail",{params:t}),c=t=>i.a.post("/kefu.kefu/status",t),f=t=>i.a.post("/kefu.kefu/del",t),m=t=>i.a.get("/kefu.kefu_lang/lists",{params:t}),p=t=>i.a.post("/kefu.kefu_lang/add",t),h=t=>i.a.post("/kefu.kefu_lang/edit",t),g=t=>i.a.post("/kefu.kefu_lang/del",t)}}]);