(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-77a73d51"],{"5ca3":function(e,t,s){},"82fc":function(e,t,s){"use strict";s.d(t,"f",(function(){return i})),s.d(t,"b",(function(){return n})),s.d(t,"d",(function(){return a})),s.d(t,"e",(function(){return o})),s.d(t,"g",(function(){return l})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return f})),s.d(t,"o",(function(){return c})),s.d(t,"k",(function(){return d})),s.d(t,"m",(function(){return h})),s.d(t,"n",(function(){return p})),s.d(t,"p",(function(){return m})),s.d(t,"l",(function(){return _})),s.d(t,"h",(function(){return b})),s.d(t,"i",(function(){return g})),s.d(t,"j",(function(){return v}));var r=s("f175");const i=e=>r.a.get("/selffetch_shop.selffetch_shop/lists",{params:e}),n=e=>r.a.post("/selffetch_shop.selffetch_shop/add",e),a=e=>r.a.get("/selffetch_shop.selffetch_shop/detail",{params:e}),o=e=>r.a.post("/selffetch_shop.selffetch_shop/edit",e),l=e=>r.a.post("/selffetch_shop.selffetch_shop/status",e),u=e=>r.a.post("/selffetch_shop.selffetch_shop/del",e),f=e=>r.a.get("/selffetch_shop.selffetch_shop/regionSearch",{params:e}),c=e=>r.a.get("/selffetch_shop.selffetch_verifier/lists",{params:e}),d=e=>r.a.post("/selffetch_shop.selffetch_verifier/add",e),h=e=>r.a.get("/selffetch_shop.selffetch_verifier/detail",{params:e}),p=e=>r.a.post("/selffetch_shop.selffetch_verifier/edit",e),m=e=>r.a.post("/selffetch_shop.selffetch_verifier/status",e),_=e=>r.a.post("/selffetch_shop.selffetch_verifier/del",e),b=e=>r.a.post("/selffetch_shop.verification/verification",e),g=e=>r.a.get("selffetch_shop.verification/lists",{params:e}),v=e=>r.a.get("selffetch_shop.verification/verificationQuery",{params:e})},b877:function(e,t,s){"use strict";s("5ca3")},c7d9:function(e,t,s){"use strict";s.r(t);var r=s("9ab4"),i=s("1b40"),n=s("82fc"),a=s("f633"),o=s("4201");let l=class extends i.e{constructor(){super(...arguments),this.mode=o.f.ADD,this.identity=null,this.form={name:"",user_id:"",selffetch_shop_id:"",mobile:"",status:1},this.rules={name:[{required:!0,message:"请输入核销员名称",trigger:"blur"}],user_id:[{required:!0,message:"请选择用户",trigger:"blur"}],selffetch_shop_id:[{required:!0,message:"请选择自提门店",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"}]},this.verifierInfo={},this.userOption={loading:!1,list:[]},this.shopOption={loading:!1,list:[]}}get pageTitle(){switch(this.mode){case o.f.ADD:return"新增核销员";case o.f.EDIT:return"编辑核销员"}}queryUserOptions(e){if(""===e)return this.userOption.list=[];this.userOption.loading=!0,Object(a.p)({keyword:e}).then(e=>{this.userOption.list=e.lists}).finally(()=>{this.userOption.loading=!1})}queryShopOptions(e){if(""===e)return this.shopOption.list=[];this.shopOption.loading=!0,Object(n.f)({name:e}).then(e=>{this.shopOption.list=e.lists}).finally(()=>{this.shopOption.loading=!1})}onSubmit(e){this.$refs[e].validate(e=>{if(e)switch(this.mode){case o.f.ADD:return this.handleVerifierAdd();case o.f.EDIT:return this.handleVerifierEdit()}})}handleVerifierAdd(){const e=this.form;Object(n.k)(e).then(()=>{setTimeout(()=>this.$router.back(),500)}).catch(()=>{})}handleVerifierEdit(){const e=this.form,t=this.identity;Object(n.n)({...e,id:t}).then(()=>{setTimeout(()=>this.$router.back(),500)}).catch(()=>{})}initFormDataForAdminEdit(){Object(n.m)({id:this.identity}).then(e=>{Object.keys(e).map(t=>{this.$set(this.form,t,e[t])}),this.userOption.list.push({id:e.user_id,nickname:e.nickname,avatar:e.avatar}),this.shopOption.list.push({id:e.selffetch_shop_id,name:e.shop_name})}).catch(()=>{})}created(){const e=this.$route.query;e.mode&&(this.mode=e.mode),this.mode===o.f.EDIT&&(this.identity=1*e.id,this.initFormDataForAdminEdit())}};l=Object(r.a)([i.a],l);var u=l,f=(s("b877"),s("2877")),c=Object(f.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"verifier-edit"},[s("div",{staticClass:"ls-card"},[s("el-page-header",{attrs:{content:e.pageTitle},on:{back:function(t){return e.$router.back()}}})],1),s("div",{staticClass:"ls-card m-t-16"},[s("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px",size:"small"}},[s("el-form-item",{attrs:{label:"核销员姓名",prop:"name"}},[s("el-input",{staticClass:"ls-input",attrs:{maxlength:"12","show-word-limit":"",placeholder:"请输入核销员名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"关联用户",prop:"user_id"}},[s("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入用户编号/昵称/手机号码","remote-method":e.queryUserOptions,loading:e.userOption.loading},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id",t)},expression:"form.user_id"}},e._l(e.userOption.list,(function(t){return s("el-option",{key:t.id,attrs:{label:t.nickname,value:t.id}},[s("div",{staticClass:"flex"},[s("el-avatar",{attrs:{src:t.avatar,size:20}}),s("span",{staticClass:"m-l-10",staticStyle:{"margin-right":"auto"}},[e._v(e._s(t.nickname))])],1)])})),1),s("div",{staticClass:"muted xs"},[e._v("选择商城用户，核销员可在商城个人中心进行订单核销")])],1),s("el-form-item",{attrs:{label:"关联自提门店",prop:"selffetch_shop_id"}},[s("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入门店名称","remote-method":e.queryShopOptions,loading:e.shopOption.loading},model:{value:e.form.selffetch_shop_id,callback:function(t){e.$set(e.form,"selffetch_shop_id",t)},expression:"form.selffetch_shop_id"}},e._l(e.shopOption.list,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"联系电话",prop:"mobile"}},[s("el-input",{staticClass:"ls-input",attrs:{"show-word-limit":"",placeholder:"请输入联系电话"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),s("el-form-item",{attrs:{label:"核销员状态"}},[s("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[s("el-radio",{attrs:{label:0}},[e._v("停用")]),s("el-radio",{attrs:{label:1}},[e._v("启用")])],1)],1)],1)],1),s("div",{staticClass:"bg-white ls-fixed-footer"},[s("div",{staticClass:"row-center flex",staticStyle:{height:"100%"}},[s("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.back()}}},[e._v("取消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")])],1)])])}),[],!1,null,"62f780ab",null);t.default=c.exports},f633:function(e,t,s){"use strict";s.d(t,"o",(function(){return i})),s.d(t,"k",(function(){return n})),s.d(t,"m",(function(){return a})),s.d(t,"n",(function(){return o})),s.d(t,"l",(function(){return l})),s.d(t,"j",(function(){return u})),s.d(t,"f",(function(){return f})),s.d(t,"h",(function(){return c})),s.d(t,"i",(function(){return d})),s.d(t,"g",(function(){return h})),s.d(t,"p",(function(){return p})),s.d(t,"q",(function(){return m})),s.d(t,"b",(function(){return _})),s.d(t,"s",(function(){return b})),s.d(t,"t",(function(){return g})),s.d(t,"u",(function(){return v})),s.d(t,"r",(function(){return O})),s.d(t,"c",(function(){return k})),s.d(t,"d",(function(){return y})),s.d(t,"e",(function(){return w})),s.d(t,"v",(function(){return x})),s.d(t,"a",(function(){return $}));var r=s("f175");const i=e=>r.a.get("/user.user_level/lists",{params:e}),n=e=>r.a.post("/user.user_level/add",e),a=e=>r.a.get("/user.user_level/detail",{params:e}),o=e=>r.a.post("/user.user_level/edit",e),l=e=>r.a.post("/user.user_level/del",e),u=e=>r.a.get("/user.user_label/lists",{params:e}),f=e=>r.a.post("/user.user_label/add",e),c=e=>r.a.get("/user.user_label/detail",{params:e}),d=e=>r.a.post("/user.user_label/edit",e),h=e=>r.a.post("/user.user_label/del",e),p=e=>r.a.get("/user.user/lists",{params:e}),m=()=>r.a.get("/user.user/otherList"),_=e=>r.a.get("/user.user/detail",{params:e}),b=e=>r.a.post("/user.user/setInfo",e),g=e=>r.a.post("/user.user/setLabel",e),v=e=>r.a.post("/user.user/setUserLabel",e),O=e=>r.a.post("/user.user/adjustUserWallet",e),k=()=>r.a.get("/user.user/index"),y=e=>r.a.get("/user.user/info",{params:e}),w=e=>r.a.get("/user.user/userInviterLists",{params:e}),x=e=>r.a.post("/user.user/adjustFirstLeader",e),$=e=>r.a.get("/user.user/selectUserLists",{params:e})}}]);